!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Charts=t():e.Charts=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=61)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return f})),n.d(t,"__generator",(function(){return l})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return m})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return S})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return A}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):f(o[0][2],n)}catch(e){f(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(50),i=n(51),o=n(52);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return V(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function A(e,t,n,r){return V(B(t),e,n,r)}function I(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:q(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,n){"use strict";var r=n(55),i=n(57);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),l=["%","/","?",";","#"].concat(f),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(58);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var S=u.exec(b);if(S)return this.path=b,this.href=b,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(b);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===b.substr(0,2);!A||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(A||w&&!y[w])){for(var I,C,E=-1,R=0;R<h.length;R++){-1!==(T=b.indexOf(h[R]))&&(-1===E||T<E)&&(E=T)}-1!==(C=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(I=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(I)),E=-1;for(R=0;R<l.length;R++){var T;-1!==(T=b.indexOf(l[R]))&&(-1===E||T<E)&&(E=T)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var L=this.hostname.split(/\./),O=(R=0,L.length);R<O;R++){var U=L[R];if(U&&!U.match(d)){for(var x="",k=0,D=U.length;k<D;k++)U.charCodeAt(k)>127?x+="x":x+=U[k];if(!x.match(d)){var M=L.slice(0,R),N=L.slice(R+1),j=U.match(p);j&&(M.push(j[1]),N.unshift(j[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[_])for(R=0,O=f.length;R<O;R++){var B=f[R];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var H=this.search||"";this.path=F+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(n[f]=e[f])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var d=l[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=S||b||n.host&&e.pathname,_=w,A=n.pathname&&n.pathname.split("/")||[],I=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===A[0]?A[0]=n.host:A.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===A[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,A=p;else if(p.length)A||(A=[]),A.pop(),A=A.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(I)n.hostname=n.host=A.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!A.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=A.slice(-1)[0],E=(n.host||e.host||A.length>1)&&("."===C||".."===C)||""===C,R=0,T=A.length;T>=0;T--)"."===(C=A[T])?A.splice(T,1):".."===C?(A.splice(T,1),R++):R&&(A.splice(T,1),R--);if(!w&&!_)for(;R--;R)A.unshift("..");!w||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),E&&"/"!==A.join("/").substr(-1)&&A.push("");var P,L=""===A[0]||A[0]&&"/"===A[0].charAt(0);I&&(n.hostname=n.host=L?"":A.length?A.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(w=w||n.host&&A.length)&&!L&&A.unshift(""),A.length?n.pathname=A.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return g}));var r=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],i=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},o=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},s=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},a=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),i=r.filter((function(e){return n.endsWith("."+e.ext)}));return i.length>0?i[0].type:t},u=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},c=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},f=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},l=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==e&&null!=e.versions&&null!=e.versions.node}},h=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!p(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:h(e[i],t,n)}return r},d=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!p(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:d(e[i],t,n)}return r},p=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},g=function(){function e(){}return e.isEmpty=i,e.sortByField=o,e.objectLessAttributes=s,e.filenameToContentType=a,e.isTextFile=u,e.generateRandomString=c,e.makeQuerablePromise=f,e.browserOrNode=l,e.transferKeyToLowerCase=h,e.transferKeyToUpperCase=d,e.isStrictObject=p,e}()}).call(this,n(38))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));for(var r={},i={},o=0;o<256;o++){var s=o.toString(16).toLowerCase();1===s.length&&(s="0"+s),r[o]=s,i[s]=o}function a(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},function(e,t,n){var r=n(39),i=n(40),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},function(e,t,n){var r;e.exports=(r=n(2),n(12),n(53),r.HmacSHA256)},function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},s=e.split(o),u=i.decode||r,c=0;c<s.length;c++){var f=s[c],l=f.indexOf("=");if(!(l<0)){var h=f.substr(0,l).trim(),d=f.substr(++l,f.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==n[h]&&(n[h]=a(d,u))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(c)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(u+="; HttpOnly");r.secure&&(u+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},,function(e,t,n){var r;e.exports=(r=n(2),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],f=n[5],l=n[6],h=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var p=c[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[d-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[d]=g+c[d-7]+y+c[d-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[d]+c[d];h=l,l=f,f=a,a=s+S|0,s=o,o=i,i=r,r=S+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(f),t.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256)},function(e,t,n){var r,i,o;e.exports=(o=n(2),i=(r=o).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,u=n[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=(a|u)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(41),t);var r=n(24);t.Ie11Sha256=r.Sha256;var i=n(27);t.WebCryptoSha256=i.Sha256},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(44),t)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0;var r=n(42),i=n(43);t.fromUtf8=function(e){return"function"==typeof TextEncoder?i.fromUtf8(e):r.fromUtf8(e)},t.toUtf8=function(e){return"function"==typeof TextDecoder?i.toUtf8(e):r.toUtf8(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.locateWindow=void 0;var n={};t.locateWindow=function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-cognito-identity","b":"1.0.0-gamma.8"}')},function(e){e.exports=JSON.parse('{"a":"@aws-sdk/client-pinpoint","b":"1.0.0-gamma.8"}')},,function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(26),o=n(17),s=n(18),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=s.locateWindow().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n("ImportKey completed without importing key.")},r.onerror=function(){n("ImportKey failed to import key.")}}))}(e).then((function(e){return s.locateWindow().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(s.locateWindow().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;r.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n("Error encountered finalizing hash")},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n("Error encountered finalizing hash")},e.finish()}))}))},e}();function u(e){return"string"==typeof e?o.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(25),o=n(26),s=n(18),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){s.locateWindow().crypto.subtle.importKey("raw",u(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!i.isEmptyData(e)){var t=u(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return s.locateWindow().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):i.isEmptyData(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return s.locateWindow().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();function u(e){return"string"==typeof e?r.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;e.exports=(r=n(2),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},,,,,,,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=a(h);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||f||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r,i,o=n(22),s=n(23),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==h){var d=o();null==l&&(l=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-a+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=g,i=h;var y=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=p/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},function(e,t,n){var r=n(22),i=n(23);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(27),o=n(15),s=n(46),a=n(48),u=n(18),c=function(){function e(e){s.supportsWebCrypto(u.locateWindow())?this.hash=new i.Sha256(e):a.isMsWindow(u.locateWindow())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0,t.fromUtf8=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},t.toUtf8=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8=t.fromUtf8=void 0,t.fromUtf8=function(e){return(new TextEncoder).encode(e)},t.toUtf8=function(e){return new TextDecoder("utf-8").decode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28),o=n(45),s=n(17),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?s.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<r.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var h=this.temp[l-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(r.KEY[l]+this.temp[l]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;f=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(47),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0).__exportStar(n(49),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map((function(e){return i[e]})).concat(n).every((function(e){return"function"==typeof e}))}return!1}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(f(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r,i,o,s;e.exports=(r=n(2),o=(i=r).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){e.exports=self.fetch||(self.fetch=n(31).default||n(31))},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(e){throw RangeError(h[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(l,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=36)e=d(e/35);return d(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,a,c,f,l,h,p=[],v=e.length,y=0,m=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,s=1,a=36;i>=v&&g("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>d((u-y)/s))&&g("overflow"),y+=c*s,!(c<(f=a<=S?1:a>=S+26?26:a-S));a+=36)s>d(u/(l=36-f))&&g("overflow"),s*=l;S=w(y-o,t=p.length+1,0==o),d(y/t)>u-m&&g("overflow"),m+=d(y/t),y%=t,p.splice(y++,0,m)}return b(p)}function A(e){var t,n,r,i,o,s,a,c,f,l,h,v,y,b,_,A=[];for(v=(e=m(e)).length,t=128,n=0,o=72,s=0;s<v;++s)(h=e[s])<128&&A.push(p(h));for(r=i=A.length,i&&A.push("-");r<v;){for(a=u,s=0;s<v;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>d((u-n)/(y=r+1))&&g("overflow"),n+=(a-t)*y,t=a,s=0;s<v;++s)if((h=e[s])<t&&++n>u&&g("overflow"),h==t){for(c=n,f=36;!(c<(l=f<=o?1:f>=o+26?26:f-o));f+=36)_=c-l,b=36-l,A.push(p(S(l+_%b,0))),c=d(_/b);A.push(p(S(c,0))),o=w(n,y,r==i),n=0,++r}++n,++t}return A.join("")}a={version:"1.3.2",ucs2:{decode:m,encode:b},decode:_,encode:A,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(56)(e),n(29))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(59),t.encode=t.stringify=n(60)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,h,d,p,g=e[f].replace(a,"%20"),v=g.indexOf(n);v>=0?(l=g.substr(0,v),h=g.substr(v+1)):(l=g,h=""),d=decodeURIComponent(l),p=decodeURIComponent(h),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),(function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[s]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r,i;function o(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function s(e){return void 0!==e.redirectSignIn}n.r(t),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(r||(r={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default"}(i||(i={}));var a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},c={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},f=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.level;e.LOG_LEVEL&&(i=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(i=window.LOG_LEVEL);var o=c[i],s=c[t];if(s>=o){var a=console.log.bind(console);"ERROR"===t&&console.error&&(a=console.error.bind(console)),"WARN"===t&&console.warn&&(a=console.warn.bind(console));var u="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"==typeof n[0])a(u+" - "+n[0]);else if(1===n.length)a(u,n[0]);else if("string"==typeof n[0]){var f=n.slice(1);1===f.length&&(f=f[0]),a(u+" - "+n[0],f)}else a(u,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["INFO"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["INFO"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["WARN"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["ERROR"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["DEBUG"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,u(["VERBOSE"],e))},e.LOG_LEVEL=null,e}(),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},p=new f("Hub"),g="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var v=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void p.warn("No listeners for "+e);this.patterns=d(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void p.warn("No listeners for "+e);this.listeners[e]=d(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===g||p.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:l({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){p.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))p.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){p.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){p.error(e)}})),this.patterns.length>0){if(!n.message)return void p.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=h(n).slice(1),o=l(l({},e),{patternInfo:r});try{t.callback(o)}catch(e){p.error(e)}}}))}},e}())("__default__"),y={},m=function(){function e(){}return e.setItem=function(e,t){return y[e]=t,y[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(y,e)?y[e]:void 0},e.removeItem=function(e){return delete y[e]},e.clear=function(){return y={}},e}(),b=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=m}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),S=n(4),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},I=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},C=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I(arguments[t]));return e},E=new f("Util"),R=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return w(t,e),t}(Error);var T=function(e,t,n){return void 0===n&&(n=3e5),function e(t,n,r,i){return void 0===i&&(i=1),_(this,void 0,void 0,(function(){var o,s;return A(this,(function(a){switch(a.label){case 0:if("function"!=typeof t)throw Error("functionToRetry must be a function");E.debug(t.name+" attempt #"+i+" with this vars: "+JSON.stringify(n)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,t.apply(void 0,C(n))];case 2:return[2,a.sent()];case 3:if(o=a.sent(),E.debug("error on "+t.name,o),(u=o)&&u.nonRetryable)throw E.debug(t.name+" non retryable error",o),o;return s=r(i,n,o),E.debug(t.name+" retrying in "+s+" ms"),!1===s?[3,6]:[4,new Promise((function(e){return setTimeout(e,s)}))];case 4:return a.sent(),[4,e(t,n,r,i+1)];case 5:return[2,a.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}var u}))}))}(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))},P=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},O=new f("CognitoCredentials"),U=new Promise((function(e,t){return Object(S.b)().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(O.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(O.debug("not in the browser, directly resolved"),e())})),x=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return P(this,void 0,void 0,(function(){return L(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(O.debug("need to wait for the Google SDK loaded"),[4,U]);case 1:e.sent(),this.initialized=!0,O.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(S.b)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(O.debug("google Auth undefined"),n(new R("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(O.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new R("Failed to reload google auth response"))}))):n(new R("User is not signed in with Google"))})).catch((function(e){O.debug("Failed to refresh google token",e),n(new R("Failed to refresh google token"))}))})):(O.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),k=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},M=new f("CognitoCredentials"),N=new Promise((function(e,t){return Object(S.b)().isBrowser?window.FB?(M.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(M.debug("not in the browser, directly resolved"),e())})),j=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return k(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(M.debug("need to wait for the Facebook SDK loaded"),[4,N]);case 1:e.sent(),this.initialized=!0,M.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Object(S.b)().isBrowser&&(e=window.FB),!e){return M.debug("no fb sdk available"),Promise.reject(new R("no fb sdk available"))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";M.debug(s),n(new R(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";M.debug(s),n(new R(s))}}),{scope:"public_profile,email"})}))},e}(),F=new x,q=new j,B={userAgent:"aws-amplify/3.5.4 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch(B.product=navigator.product||"",B.navigator=navigator||null,navigator.product){case"ReactNative":B.userAgent="aws-amplify/3.5.4 react-native",B.isReactNative=!0;break;default:B.userAgent="aws-amplify/3.5.4 js",B.isReactNative=!1}var V=function(){return B.userAgent},z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},G=new f("Amplify"),H=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=f,this.ServiceWorker=null}return e.prototype.register=function(e){G.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):G.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),G.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=z(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),K=n(0),W=function(e,t){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function J(e,t){function n(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function $(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Z(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function X(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var Q=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Object(K.__assign)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Object(K.__assign)({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(K.__spread)(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(K.__spread)(i(e)))})),t},o=function(){var n,r=[],o=[],s={};return e.forEach((function(e){var t=Object(K.__assign)(Object(K.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Object(K.__assign)(Object(K.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return ee[t.step]-ee[e.step]||te[t.priority||"normal"]-te[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Object(K.__spread)(t)),e}),[]).map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var i=r.name,o=Object(K.__assign)({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i))throw new Error("Duplicate middleware name '"+i+"'");n.add(i)}e.push(o)},addRelativeTo:function(e,r){var i=r.name,o=Object(K.__assign)({middleware:e},r);if(i){if(n.has(i))throw new Error("Duplicated middleware name '"+i+"'");n.add(i)}t.push(o)},clone:function(){return r(Q())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Q());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var i=Object(K.__values)(o().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},ee={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},te={high:3,normal:2,low:1},ne=function(){function e(e){this.middlewareStack=Q(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),re=function(){this.middlewareStack=Q()};function ie(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function oe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"object"==typeof e&&("__type"in e&&t.indexOf(e.__type)>-1||"name"in e&&t.indexOf(e.name)>-1)}var se=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Object(K.__spread)([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};se.prototype=Object.create(String.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(se,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(K.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(se);var ae,ue,ce,fe,le,he,de,pe,ge,ve,ye,me,be,Se,we,_e,Ae,Ie,Ce,Ee,Re,Te,Pe,Le,Oe,Ue,xe,ke,De,Me,Ne,je,Fe,qe,Be,Ve,ze,Ge,He,Ke,We,Je,Ye,$e,Ze,Xe,Qe,et,tt,nt,rt,it,ot,st,at,ut,ct,ft,lt,ht,dt,pt,gt,vt,yt,mt,bt,St,wt,_t,At,It,Ct,Et,Rt,Tt,Pt,Lt,Ot,Ut,xt,kt,Dt,Mt,Nt,jt,Ft,qt,Bt,Vt,zt,Gt,Ht,Kt,Wt,Jt,Yt,$t,Zt,Xt,Qt,en,tn,nn,rn,on,sn,an,un,cn;!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(ae||(ae={})),(ce=ue||(ue={})).filterSensitiveLog=function(e){return Y({},e)},ce.isa=function(e){return oe(e,"CognitoIdentityProvider")},(le=fe||(fe={})).filterSensitiveLog=function(e){return Y({},e)},le.isa=function(e){return oe(e,"ConcurrentModificationException")},(de=he||(he={})).filterSensitiveLog=function(e){return Y({},e)},de.isa=function(e){return oe(e,"CreateIdentityPoolInput")},(ge=pe||(pe={})).filterSensitiveLog=function(e){return Y({},e)},ge.isa=function(e){return oe(e,"Credentials")},(ye=ve||(ve={})).filterSensitiveLog=function(e){return Y({},e)},ye.isa=function(e){return oe(e,"DeleteIdentitiesInput")},(be=me||(me={})).filterSensitiveLog=function(e){return Y({},e)},be.isa=function(e){return oe(e,"DeleteIdentitiesResponse")},(we=Se||(Se={})).filterSensitiveLog=function(e){return Y({},e)},we.isa=function(e){return oe(e,"DeleteIdentityPoolInput")},(Ae=_e||(_e={})).filterSensitiveLog=function(e){return Y({},e)},Ae.isa=function(e){return oe(e,"DescribeIdentityInput")},(Ce=Ie||(Ie={})).filterSensitiveLog=function(e){return Y({},e)},Ce.isa=function(e){return oe(e,"DescribeIdentityPoolInput")},(Re=Ee||(Ee={})).filterSensitiveLog=function(e){return Y({},e)},Re.isa=function(e){return oe(e,"DeveloperUserAlreadyRegisteredException")},function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Te||(Te={})),(Le=Pe||(Pe={})).filterSensitiveLog=function(e){return Y({},e)},Le.isa=function(e){return oe(e,"ExternalServiceException")},(Ue=Oe||(Oe={})).filterSensitiveLog=function(e){return Y({},e)},Ue.isa=function(e){return oe(e,"GetCredentialsForIdentityInput")},(ke=xe||(xe={})).filterSensitiveLog=function(e){return Y({},e)},ke.isa=function(e){return oe(e,"GetCredentialsForIdentityResponse")},(Me=De||(De={})).filterSensitiveLog=function(e){return Y({},e)},Me.isa=function(e){return oe(e,"GetIdentityPoolRolesInput")},(je=Ne||(Ne={})).filterSensitiveLog=function(e){return Y({},e)},je.isa=function(e){return oe(e,"GetIdentityPoolRolesResponse")},(qe=Fe||(Fe={})).filterSensitiveLog=function(e){return Y({},e)},qe.isa=function(e){return oe(e,"GetIdInput")},(Ve=Be||(Be={})).filterSensitiveLog=function(e){return Y({},e)},Ve.isa=function(e){return oe(e,"GetIdResponse")},(Ge=ze||(ze={})).filterSensitiveLog=function(e){return Y({},e)},Ge.isa=function(e){return oe(e,"GetOpenIdTokenForDeveloperIdentityInput")},(Ke=He||(He={})).filterSensitiveLog=function(e){return Y({},e)},Ke.isa=function(e){return oe(e,"GetOpenIdTokenForDeveloperIdentityResponse")},(Je=We||(We={})).filterSensitiveLog=function(e){return Y({},e)},Je.isa=function(e){return oe(e,"GetOpenIdTokenInput")},($e=Ye||(Ye={})).filterSensitiveLog=function(e){return Y({},e)},$e.isa=function(e){return oe(e,"GetOpenIdTokenResponse")},(Xe=Ze||(Ze={})).filterSensitiveLog=function(e){return Y({},e)},Xe.isa=function(e){return oe(e,"IdentityDescription")},(et=Qe||(Qe={})).filterSensitiveLog=function(e){return Y({},e)},et.isa=function(e){return oe(e,"IdentityPool")},(nt=tt||(tt={})).filterSensitiveLog=function(e){return Y({},e)},nt.isa=function(e){return oe(e,"IdentityPoolShortDescription")},(it=rt||(rt={})).filterSensitiveLog=function(e){return Y({},e)},it.isa=function(e){return oe(e,"InternalErrorException")},(st=ot||(ot={})).filterSensitiveLog=function(e){return Y({},e)},st.isa=function(e){return oe(e,"InvalidIdentityPoolConfigurationException")},(ut=at||(at={})).filterSensitiveLog=function(e){return Y({},e)},ut.isa=function(e){return oe(e,"InvalidParameterException")},(ft=ct||(ct={})).filterSensitiveLog=function(e){return Y({},e)},ft.isa=function(e){return oe(e,"LimitExceededException")},(ht=lt||(lt={})).filterSensitiveLog=function(e){return Y({},e)},ht.isa=function(e){return oe(e,"ListIdentitiesInput")},(pt=dt||(dt={})).filterSensitiveLog=function(e){return Y({},e)},pt.isa=function(e){return oe(e,"ListIdentitiesResponse")},(vt=gt||(gt={})).filterSensitiveLog=function(e){return Y({},e)},vt.isa=function(e){return oe(e,"ListIdentityPoolsInput")},(mt=yt||(yt={})).filterSensitiveLog=function(e){return Y({},e)},mt.isa=function(e){return oe(e,"ListIdentityPoolsResponse")},(St=bt||(bt={})).filterSensitiveLog=function(e){return Y({},e)},St.isa=function(e){return oe(e,"ListTagsForResourceInput")},(_t=wt||(wt={})).filterSensitiveLog=function(e){return Y({},e)},_t.isa=function(e){return oe(e,"ListTagsForResourceResponse")},(It=At||(At={})).filterSensitiveLog=function(e){return Y({},e)},It.isa=function(e){return oe(e,"LookupDeveloperIdentityInput")},(Et=Ct||(Ct={})).filterSensitiveLog=function(e){return Y({},e)},Et.isa=function(e){return oe(e,"LookupDeveloperIdentityResponse")},(Tt=Rt||(Rt={})).filterSensitiveLog=function(e){return Y({},e)},Tt.isa=function(e){return oe(e,"MappingRule")},function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(Pt||(Pt={})),(Ot=Lt||(Lt={})).filterSensitiveLog=function(e){return Y({},e)},Ot.isa=function(e){return oe(e,"MergeDeveloperIdentitiesInput")},(xt=Ut||(Ut={})).filterSensitiveLog=function(e){return Y({},e)},xt.isa=function(e){return oe(e,"MergeDeveloperIdentitiesResponse")},(Dt=kt||(kt={})).filterSensitiveLog=function(e){return Y({},e)},Dt.isa=function(e){return oe(e,"NotAuthorizedException")},(Nt=Mt||(Mt={})).filterSensitiveLog=function(e){return Y({},e)},Nt.isa=function(e){return oe(e,"ResourceConflictException")},(Ft=jt||(jt={})).filterSensitiveLog=function(e){return Y({},e)},Ft.isa=function(e){return oe(e,"ResourceNotFoundException")},(Bt=qt||(qt={})).filterSensitiveLog=function(e){return Y({},e)},Bt.isa=function(e){return oe(e,"RoleMapping")},function(e){e.RULES="Rules",e.TOKEN="Token"}(Vt||(Vt={})),(Gt=zt||(zt={})).filterSensitiveLog=function(e){return Y({},e)},Gt.isa=function(e){return oe(e,"RulesConfigurationType")},(Kt=Ht||(Ht={})).filterSensitiveLog=function(e){return Y({},e)},Kt.isa=function(e){return oe(e,"SetIdentityPoolRolesInput")},(Jt=Wt||(Wt={})).filterSensitiveLog=function(e){return Y({},e)},Jt.isa=function(e){return oe(e,"TagResourceInput")},($t=Yt||(Yt={})).filterSensitiveLog=function(e){return Y({},e)},$t.isa=function(e){return oe(e,"TagResourceResponse")},(Xt=Zt||(Zt={})).filterSensitiveLog=function(e){return Y({},e)},Xt.isa=function(e){return oe(e,"TooManyRequestsException")},(en=Qt||(Qt={})).filterSensitiveLog=function(e){return Y({},e)},en.isa=function(e){return oe(e,"UnlinkDeveloperIdentityInput")},(nn=tn||(tn={})).filterSensitiveLog=function(e){return Y({},e)},nn.isa=function(e){return oe(e,"UnlinkIdentityInput")},(on=rn||(rn={})).filterSensitiveLog=function(e){return Y({},e)},on.isa=function(e){return oe(e,"UnprocessedIdentityId")},(an=sn||(sn={})).filterSensitiveLog=function(e){return Y({},e)},an.isa=function(e){return oe(e,"UntagResourceInput")},(cn=un||(un={})).filterSensitiveLog=function(e){return Y({},e)},cn.isa=function(e){return oe(e,"UntagResourceResponse")};var fn=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),ln=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Object(K.__assign)(Object(K.__assign)({},this),{headers:Object(K.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return Object(K.__assign)(Object(K.__assign)({},e),((r={})[n]=Array.isArray(i)?Object(K.__spread)(i):i,r))}),{}))),n},e}();var hn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g,v,y;return Z(this,(function(m){switch(m.label){case 0:return r=[Y({},e)],y={},[4,Bn(e.body,t)];case 1:switch(n=Y.apply(void 0,r.concat([(y.body=m.sent(),y)])),o="UnknownError",s=n.body.__type.split("#"),o=void 0===s[1]?s[0]:s[1],o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,pn(n,t)];case 3:return i=Y.apply(void 0,[Y.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 4:return u=[{}],[4,gn(n,t)];case 5:return i=Y.apply(void 0,[Y.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 6:return c=[{}],[4,vn(n,t)];case 7:return i=Y.apply(void 0,[Y.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 8:return f=[{}],[4,yn(n,t)];case 9:return i=Y.apply(void 0,[Y.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 10:return l=[{}],[4,bn(n,t)];case 11:return i=Y.apply(void 0,[Y.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 12:return h=[{}],[4,Sn(n,t)];case 13:return i=Y.apply(void 0,[Y.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 14:return d=[{}],[4,wn(n,t)];case 15:return i=Y.apply(void 0,[Y.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 16:return p=[{}],[4,_n(n,t)];case 17:return i=Y.apply(void 0,[Y.apply(void 0,p.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 18:g=n.body,o=g.code||g.Code||o,i=Y(Y({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:jn(e)}),m.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},dn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g,v,y;return Z(this,(function(m){switch(m.label){case 0:return r=[Y({},e)],y={},[4,Bn(e.body,t)];case 1:switch(n=Y.apply(void 0,r.concat([(y.body=m.sent(),y)])),o="UnknownError",s=n.body.__type.split("#"),o=void 0===s[1]?s[0]:s[1],o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,pn(n,t)];case 3:return i=Y.apply(void 0,[Y.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 4:return u=[{}],[4,gn(n,t)];case 5:return i=Y.apply(void 0,[Y.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 6:return c=[{}],[4,yn(n,t)];case 7:return i=Y.apply(void 0,[Y.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 8:return f=[{}],[4,mn(n,t)];case 9:return i=Y.apply(void 0,[Y.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 10:return l=[{}],[4,bn(n,t)];case 11:return i=Y.apply(void 0,[Y.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 12:return h=[{}],[4,Sn(n,t)];case 13:return i=Y.apply(void 0,[Y.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 14:return d=[{}],[4,wn(n,t)];case 15:return i=Y.apply(void 0,[Y.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 16:return p=[{}],[4,_n(n,t)];case 17:return i=Y.apply(void 0,[Y.apply(void 0,p.concat([m.sent()])),{name:o,$metadata:jn(e)}]),[3,19];case 18:g=n.body,o=g.code||g.Code||o,i=Y(Y({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:jn(e)}),m.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},pn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Rn(n,t),[2,Y({name:"ExternalServiceException",$fault:"client",$metadata:jn(e)},r)]}))}))},gn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Ln(n,t),[2,Y({name:"InternalErrorException",$fault:"server",$metadata:jn(e)},r)]}))}))},vn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=On(n,t),[2,Y({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:jn(e)},r)]}))}))},yn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Un(n,t),[2,Y({name:"InvalidParameterException",$fault:"client",$metadata:jn(e)},r)]}))}))},mn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=xn(n,t),[2,Y({name:"LimitExceededException",$fault:"client",$metadata:jn(e)},r)]}))}))},bn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=kn(n,t),[2,Y({name:"NotAuthorizedException",$fault:"client",$metadata:jn(e)},r)]}))}))},Sn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Dn(n,t),[2,Y({name:"ResourceConflictException",$fault:"client",$metadata:jn(e)},r)]}))}))},wn=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Mn(n,t),[2,Y({name:"ResourceNotFoundException",$fault:"client",$metadata:jn(e)},r)]}))}))},_n=function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n=e.body,r=Nn(n,t),[2,Y({name:"TooManyRequestsException",$fault:"client",$metadata:jn(e)},r)]}))}))},An=function(e,t){return Y(Y(Y({},void 0!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:Cn(e.Logins,t)})},In=function(e,t){return Y(Y(Y({},void 0!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&{Logins:Cn(e.Logins,t)})},Cn=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=X(t,2),i=r[0],o=r[1];return Y(Y({},e),((n={})[i]=o,n))}),{})},En=function(e,t){return{__type:"Credentials",AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Rn=function(e,t){return{__type:"ExternalServiceException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Tn=function(e,t){return{__type:"GetCredentialsForIdentityResponse",Credentials:void 0!==e.Credentials&&null!==e.Credentials?En(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Pn=function(e,t){return{__type:"GetIdResponse",IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Ln=function(e,t){return{__type:"InternalErrorException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},On=function(e,t){return{__type:"InvalidIdentityPoolConfigurationException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Un=function(e,t){return{__type:"InvalidParameterException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},xn=function(e,t){return{__type:"LimitExceededException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},kn=function(e,t){return{__type:"NotAuthorizedException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Dn=function(e,t){return{__type:"ResourceConflictException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Mn=function(e,t){return{__type:"ResourceNotFoundException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},Nn=function(e,t){return{__type:"TooManyRequestsException",message:void 0!==e.message&&null!==e.message?e.message:void 0}},jn=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},Fn=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},qn=function(e,t,n,r,i){return $(void 0,void 0,void 0,(function(){var o,s,a,u,c,f;return Z(this,(function(l){switch(l.label){case 0:return[4,e.endpoint()];case 1:return o=l.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,f={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(f.hostname=r),void 0!==i&&(f.body=i),[2,new ln(f)]}}))}))},Bn=function(e,t){return function(e,t){return Fn(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))};var Vn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},zn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]};function Gn(e,t,n){return{applyToStack:function(r){r.add(function(e,t){var n=this;return function(r){return function(i){return Object(K.__awaiter)(n,void 0,void 0,(function(){var n,o;return Object(K.__generator)(this,(function(s){switch(s.label){case 0:return[4,r(i)];case 1:return n=s.sent().response,[4,t(n,e)];case 2:return o=s.sent(),[2,{response:n,output:o}]}}))}))}}}(e,n),Vn),r.add(function(e,t){var n=this;return function(r){return function(i){return Object(K.__awaiter)(n,void 0,void 0,(function(){var n;return Object(K.__generator)(this,(function(o){switch(o.label){case 0:return[4,t(i.input,e)];case 1:return n=o.sent(),[2,r(Object(K.__assign)(Object(K.__assign)({},i),{request:n}))]}}))}))}}}(e,t),zn)}}}var Hn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return J(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Gn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,inputFilterSensitiveLog:Oe.filterSensitiveLog,outputFilterSensitiveLog:xe.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(An(e,t)),[2,qn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return $(void 0,void 0,void 0,(function(){var n,r,i;return Z(this,(function(o){switch(o.label){case 0:return e.statusCode>=400?[2,hn(e,t)]:[4,Bn(e.body,t)];case 1:return n=o.sent(),{},r=Tn(n,t),i=Y({$metadata:jn(e),__type:"GetCredentialsForIdentityResponse"},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(re),Kn=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Object(K.__extends)(t,e),t}(Error);function Wn(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=Object(K.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Jn(e){var t=this;return function(){return Object(K.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h,d;return Object(K.__generator)(this,(function(p){switch(p.label){case 0:return f=(c=e.client).send,l=Hn.bind,d={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Wn(e.logins)]:[3,2];case 1:return h=p.sent(),[3,3];case 2:h=void 0,p.label=3;case 3:return[4,f.apply(c,[new(l.apply(Hn,[void 0,(d.Logins=h,d)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Kn("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Kn("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new Kn("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var Yn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return J(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Gn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,inputFilterSensitiveLog:Fe.filterSensitiveLog,outputFilterSensitiveLog:Be.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return $(void 0,void 0,void 0,(function(){var n,r;return Z(this,(function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(In(e,t)),[2,qn(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return $(void 0,void 0,void 0,(function(){var n,r,i;return Z(this,(function(o){switch(o.label){case 0:return e.statusCode>=400?[2,dn(e,t)]:[4,Bn(e.body,t)];case 1:return n=o.sent(),{},r=Pn(n,t),i=Y({$metadata:jn(e),__type:"GetIdResponse"},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(re),$n=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore("IdentityIds",{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction("IdentityIds",e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore("IdentityIds")))})).catch((function(e){throw n.close(),e}))}))},e}(),Zn=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Xn(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new $n:"object"==typeof window&&window.localStorage?window.localStorage:Zn:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,f=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,l=f?"aws:cognito-identity-credentials:"+a+":"+f:void 0,h=function(){return Object(K.__awaiter)(t,void 0,void 0,(function(){var e,t,r,c,f,d,p,g,v;return Object(K.__generator)(this,(function(y){switch(y.label){case 0:return(t=l)?[4,i.getItem(l)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return(e=t)?[3,7]:(d=(f=o).send,p=Yn.bind,v={AccountId:n,IdentityPoolId:a},u?[4,Wn(u)]:[3,4]);case 3:return g=y.sent(),[3,5];case 4:g=void 0,y.label=5;case 5:return[4,d.apply(f,[new(p.apply(Yn,[void 0,(v.Logins=g,v)]))])];case 6:r=y.sent().IdentityId,c=void 0===r?function(){throw new Kn("Response from Amazon Cognito contained no identity ID")}():r,e=c,l&&Promise.resolve(i.setItem(l,e)).catch((function(){})),y.label=7;case 7:return[2,(h=Jn({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return h().catch((function(e){return Object(K.__awaiter)(t,void 0,void 0,(function(){return Object(K.__generator)(this,(function(t){throw l&&Promise.resolve(i.removeItem(l)).catch((function(){})),e}))}))}))}}var Qn=n(19),er=n(14);function tr(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()*]/g,nr)}function nr(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}for(var rr=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=null==t?void 0:t.abortSignal,r=this.httpOptions.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=function(e){var t,n,r=[];try{for(var i=Object(K.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=tr(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+tr(a[u]));else{var f=s;(a||"string"==typeof a)&&(f+="="+tr(a)),r.push(f)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);s&&(o+="?"+s)}var a=e.port,u=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,c={body:e.body,headers:new Headers(e.headers),method:e.method};"undefined"!=typeof AbortController&&(c.signal=n);var f,l=new Request(u,c),h=[fetch(l).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Object(K.__values)(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new fn({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new fn({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),ir={},or=new Array(64),sr=0,ar="A".charCodeAt(0),ur="Z".charCodeAt(0);sr+ar<=ur;sr++){var cr=String.fromCharCode(sr+ar);ir[cr]=sr,or[sr]=cr}for(sr=0,ar="a".charCodeAt(0),ur="z".charCodeAt(0);sr+ar<=ur;sr++){cr=String.fromCharCode(sr+ar);var fr=sr+26;ir[cr]=fr,or[fr]=cr}for(sr=0;sr<10;sr++){ir[sr.toString(10)]=sr+52;cr=sr.toString(10),fr=sr+52;ir[cr]=fr,or[fr]=cr}ir["+"]=62,or[62]="+",ir["/"]=63,or[63]="/";function lr(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=ir[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var f=Math.floor(s/8),l=0;l<f;l++){var h=8*(f-l-1);r.setUint8(c+l,(o&255<<h)>>h)}}return new Uint8Array(n)}function hr(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=or[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var dr=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Object(K.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(K.__generator)(this,(function(r){switch(r.label){case 0:return[4,pr(e)];case 1:return t=r.sent(),n=lr(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Object(K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Object(K.__generator)(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function pr(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var gr=function(e){return function(){throw new Error(e)}},vr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},yr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(K.__awaiter)(void 0,void 0,void 0,(function(){return Object(K.__generator)(this,(function(r){return[2,e.retryStrategy.retry(t,n)]}))}))}}}(e),vr)}}},mr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],br=["Throttling","ThrottlingException","ThrottledException","RequestThrottledException","TooManyRequestsException","ProvisionedThroughputExceededException","TransactionInProgressException","RequestLimitExceeded","BandwidthLimitExceeded","LimitExceededException","RequestThrottled","SlowDown","PriorRequestNotComplete","EC2ThrottledException"],Sr=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],wr=[500,502,503,504],_r=function(e){var t;return br.includes(e.name)||1==(null===(t=e.$retryable)||void 0===t?void 0:t.throttling)},Ar=n(7),Ir=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Cr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return mr.includes(e.name)}(e)||_r(e)||function(e){var t;return Sr.includes(e.name)||wr.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Er=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Cr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Ir,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Object(K.__awaiter)(this,void 0,void 0,(function(){var e;return Object(K.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return Object(K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(K.__generator)(this,(function(f){switch(f.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=f.sent(),s=t.request,ln.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=Object(Ar.v4)()),a=function(){var a,c,f,l,h;return Object(K.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,5]),ln.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=d.sent(),c=a.response,f=a.output,u.retryQuota.releaseRetryTokens(n),f.$metadata.attempts=r+1,f.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:f}}];case 2:return l=d.sent(),r++,u.shouldRetry(l,r,o)?(n=u.retryQuota.retrieveRetryTokens(l),h=u.delayDecider(_r(l)?500:100,r),i+=h,[4,new Promise((function(e){return setTimeout(e,h)}))]):[3,4];case 3:return d.sent(),[2,"continue"];case 4:throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=r,l.$metadata.totalRetryDelay=i,l;case 5:return[2]}}))},u=this,f.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=f.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Rr=function(e){var t=Tr(e.maxAttempts);return Object(K.__assign)(Object(K.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Er(t)})},Tr=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var Pr=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Object(K.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=Object(K.__read)(s.split("="),2),u=a[0],c=a[1],f=void 0===c?null:c;u=decodeURIComponent(u),f&&(f=decodeURIComponent(f)),u in r?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}};function Lr(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}function Or(e,t){return"aws-sdk-js-v3-"+e+"/"+t+" "+("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}var Ur="cognito-identity.{region}.amazonaws.com",xr=new Set(["ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),kr=new Set(["cn-north-1","cn-northwest-1"]),Dr=new Set(["us-iso-east-1"]),Mr=new Set(["us-isob-east-1"]),Nr=new Set(["us-gov-east-1","us-gov-west-1"]),jr=Y(Y({},{apiVersion:"2014-06-30",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:xr.has(e)&&(n={hostname:Ur.replace("{region}",e),partition:"aws"}),kr.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Dr.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Mr.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Nr.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ur.replace("{region}",e),partition:"aws"})}return Promise.resolve(n)},signingName:"cognito-identity"}),{runtime:"browser",base64Decoder:lr,base64Encoder:hr,bodyLengthChecker:Lr,credentialDefaultProvider:function(){},defaultUserAgent:Or(Qn.a,Qn.b),maxAttempts:3,region:gr("Region is missing"),requestHandler:new rr,sha256:er.Sha256,streamCollector:dr,urlParser:Pr,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Fr=function(e){var t;return Object(K.__assign)(Object(K.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?qr(e):function(){return Br(e)}})},qr=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Br=function(e){return Object(K.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,i,o;return Object(K.__generator)(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Vr=function(e){if(!e.region)throw new Error("Region is missing");return Object(K.__assign)(Object(K.__assign)({},e),{region:zr(e.region)})},zr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var Gr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},Hr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Object(K.__awaiter)(t,void 0,void 0,(function(){var t,i,o,s,a;return Object(K.__generator)(this,(function(u){return t=r.request,ln.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf("content-length")&&void 0!==(s=e(i))&&(t.headers=Object(K.__assign)(Object(K.__assign)({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n(Object(K.__assign)(Object(K.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Gr)}}};var Kr={name:"hostHeaderMiddleware",step:"build",tags:["HOST"]},Wr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(K.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return Object(K.__generator)(this,(function(o){return ln.isInstance(n.request)?(r=n.request,i=(e.requestHandler.metadata||{}).handlerProtocol,(void 0===i?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Kr)}}},Jr={name:"loggerMiddleware",tags:["LOGGER"],step:"finalizeRequest"},Yr=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return Object(K.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c;return Object(K.__generator)(this,(function(f){switch(f.label){case 0:return r=t.logger,i=t.inputFilterSensitiveLog,o=t.outputFilterSensitiveLog,[4,e(n)];case 1:return s=f.sent(),r?(a=s.output,u=a.$metadata,c=Object(K.__rest)(a,["$metadata"]),"function"==typeof r.debug&&(r.debug({httpRequest:n.request}),r.debug({httpResponse:s.response})),"function"==typeof r.info&&r.info({$metadata:u,input:i(n.input),output:o(c)}),[2,s]):[2,s]}}))}))}}),Jr)}}},$r="X-Amz-Date".toLowerCase(),Zr=["authorization",$r,"date"],Xr="X-Amz-Signature".toLowerCase(),Qr="X-Amz-Security-Token".toLowerCase(),ei={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ti=/^proxy-/,ni=/^sec-/,ri="AWS4-HMAC-SHA256-PAYLOAD",ii={},oi=[];function si(e,t,n){return e+"/"+t+"/"+n+"/aws4_request"}var ai=n(6);function ui(e,t,n){var r,i,o=e.headers,s={};try{for(var a=Object(K.__values)(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,f=c.toLowerCase();(f in ei||(null==t?void 0:t.has(f))||ti.test(f)||ni.test(f))&&(!n||n&&!n.has(f))||(s[f]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function ci(e,t){var n=e.headers,r=e.body;return Object(K.__awaiter)(this,void 0,void 0,(function(){var e,i,o,s,a,u,c;return Object(K.__generator)(this,(function(f){switch(f.label){case 0:try{for(e=Object(K.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if("x-amz-content-sha256"===(o=i.value).toLowerCase())return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(l=r,"function"==typeof ArrayBuffer&&l instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(l))?((s=new t).update(r),a=ai.a,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[f.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var l}))}))}function fi(e){var t=e.headers,n=e.query,r=Object(K.__rest)(e,["headers","query"]);return Object(K.__assign)(Object(K.__assign)({},r),{headers:Object(K.__assign)({},t),query:n?li(n):void 0})}function li(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Object(K.__assign)(Object(K.__assign)({},t),((r={})[n]=Array.isArray(i)?Object(K.__spread)(i):i,r))}),{})}function hi(e){var t,n;e="function"==typeof e.clone?e.clone():fi(e);try{for(var r=Object(K.__values)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Zr.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function di(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var pi=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=yi(r),this.credentialProvider=mi(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g,v,y,m,b,S,w,_,A,I;return Object(K.__generator)(this,(function(C){switch(C.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.signableHeaders,u=t.signingRegion,c=t.signingService,[4,this.credentialProvider()];case 1:return f=C.sent(),null==u?[3,2]:(h=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=C.sent(),C.label=4;case 4:return l=h,d=gi(r),p=d.longDate,g=d.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(v=si(g,l,null!=c?c:this.service),y=function(e){var t,n,r="function"==typeof e.clone?e.clone():fi(e),i=r.headers,o=r.query,s=void 0===o?{}:o;try{for(var a=Object(K.__values)(Object.keys(i)),u=a.next();!u.done;u=a.next()){var c=u.value;"x-amz-"===c.toLowerCase().substr(0,6)&&(s[c]=i[c],delete i[c])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return Object(K.__assign)(Object(K.__assign)({},e),{headers:i,query:s})}(hi(e)),f.sessionToken&&(y.query["X-Amz-Security-Token"]=f.sessionToken),y.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",y.query["X-Amz-Credential"]=f.accessKeyId+"/"+v,y.query["X-Amz-Date"]=p,y.query["X-Amz-Expires"]=o.toString(10),m=ui(y,s,a),y.query["X-Amz-SignedHeaders"]=vi(m),b=y.query,S="X-Amz-Signature",w=this.getSignature,_=[p,v,this.getSigningKey(f,l,g,c)],A=this.createCanonicalRequest,I=[y,m],[4,ci(e,this.sha256)]);case 5:return[4,w.apply(this,_.concat([A.apply(this,I.concat([C.sent()]))]))];case 6:return b[S]=C.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return Object(K.__awaiter)(this,void 0,void 0,(function(){return Object(K.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return Object(K.__awaiter)(this,void 0,void 0,(function(){var e,t,i,c,f,l,h,d,p,g,v;return Object(K.__generator)(this,(function(y){switch(y.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=y.sent(),y.label=3;case 3:return e=t,i=gi(o),c=i.shortDate,f=i.longDate,l=si(c,e,null!=u?u:this.service),[4,ci({headers:{},body:r},this.sha256)];case 4:return h=y.sent(),(d=new this.sha256).update(n),g=ai.a,[4,d.digest()];case 5:return p=g.apply(void 0,[y.sent()]),v=[ri,f,l,s,p,h].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return Object(K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,u,c,f,l;return Object(K.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.credentialProvider()];case 1:return t=h.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=h.sent(),h.label=4;case 4:return n=r,a=gi(i).shortDate,f=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(f.apply(c,[void 0,h.sent()]))).update(e),l=ai.a,[4,u.digest()];case 6:return[2,l.apply(void 0,[h.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return Object(K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,c,f,l,h,d,p,g,v;return Object(K.__generator)(this,(function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return t=y.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=y.sent(),y.label=4;case 4:return n=r,c=hi(e),f=gi(i),l=f.longDate,h=f.shortDate,d=si(h,n,null!=u?u:this.service),c.headers[$r]=l,t.sessionToken&&(c.headers[Qr]=t.sessionToken),[4,ci(c,this.sha256)];case 5:return p=y.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Object(K.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next()){if(e===o.value.toLowerCase())return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}("x-amz-content-sha256",c.headers)&&this.applyChecksum&&(c.headers["x-amz-content-sha256"]=p),g=ui(c,s,o),[4,this.getSignature(l,d,this.getSigningKey(t,n,h,u),this.createCanonicalRequest(c,g,p))];case 6:return v=y.sent(),c.headers.authorization="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+d+", SignedHeaders="+vi(g)+", Signature="+v,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===Xr)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=tr(e)+"="+tr(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([tr(e)+"="+tr(n)])}),[]).join("&"))};try{for(var u=Object(K.__values)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next()){a(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Object(K.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(K.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Object(ai.a)(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Object(K.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(K.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=ai.a,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){var o=n+":"+r+":"+i+":"+t.accessKeyId+":"+t.sessionToken;if(o in ii)return ii[o];for(oi.push(o);oi.length>50;)delete ii[oi.shift()];return ii[o]=new Promise((function(s,a){var u,c,f=Promise.resolve("AWS4"+t.secretAccessKey),l=function(t){(f=f.then((function(n){return r=t,(i=new e(n)).update(r),i.digest();var r,i}))).catch((function(){}))};try{for(var h=Object(K.__values)([n,r,i,"aws4_request"]),d=h.next();!d.done;d=h.next()){l(d.value)}}catch(e){u={error:e}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}f.then(s,(function(e){delete ii[o],a(e)}))}))}(this.sha256,e,n,t,r||this.service)},e}(),gi=function(e){var t=di(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},vi=function(e){return Object.keys(e).sort().join(";")},yi=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},mi=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function bi(e){var t,n=this,r=Si(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?Si(e.signer):function(){return Si(e.region)().then((function(t){return Object(K.__awaiter)(n,void 0,void 0,(function(){return Object(K.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=Object(K.__read)(t,2),i=n[0],s=n[1],a=i.signingRegion,c=void 0===a?e.signingRegion:a,f=i.signingService,l=void 0===f?e.signingName:f;return e.signingRegion=e.signingRegion||c||s,e.signingName=e.signingName||l,new pi({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},Object(K.__assign)(Object(K.__assign)({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function Si(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var wi=function(e){return new Date(Date.now()+e)};function _i(e){return function(t,n){return function(r){return Object(K.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,h;return Object(K.__generator)(this,(function(d){switch(d.label){case 0:return ln.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=d.sent(),[3,3];case 2:o=e.signer,d.label=3;case 3:return i=o,a=t,u=[Object(K.__assign)({},r)],h={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[K.__assign.apply(void 0,u.concat([(h.request=d.sent(),h)]))])];case 5:return s=d.sent(),c=s.response.headers,(f=c&&(c.date||c.Date))&&(l=Date.parse(f),p=l,g=e.systemClockOffset,Math.abs(wi(g).getTime()-p)>=3e5&&(e.systemClockOffset=l-Date.now())),[2,s]}var p,g}))}))}}}var Ai={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"};var Ii={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},Ci=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e){return function(t){var r=t.request;if(!ln.isInstance(r))return e(t);var i=r.headers,o="node"===n.runtime?"user-agent":"x-amz-user-agent";return i[o]?i[o]+=" "+n.defaultUserAgent:i[o]=""+n.defaultUserAgent,n.customUserAgent&&(i[o]+=" "+n.customUserAgent),e(Object(K.__assign)(Object(K.__assign)({},t),{request:r}))}}),Ii)}}},Ei=function(e){function t(t){var n=this,r=Y(Y({},jr),t),i=Vr(r),o=bi(Fr(i)),s=Rr(o);return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(yr(n.config)),n.middlewareStack.use(Ci(n.config)),n.middlewareStack.use(Hr(n.config)),n.middlewareStack.use(Wr(n.config)),n.middlewareStack.use(Yr(n.config)),n}return J(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(ne),Ri=function(){return(Ri=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ti=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Pi=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Li=new f("Credentials"),Oi=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=F.refreshGoogleToken,this._refreshHandlers.facebook=q.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Ri(Ri({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new b).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Li.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return Li.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Li.debug("getting old cred promise"):(Li.debug("getting new cred promise"),this._gettingCredPromise=Object(S.c)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){Li.debug("checking if credentials exists and not expired");var e=this._credentials;if(e&&!this._isExpired(e))return Li.debug("credentials not changed and not expired, directly return"),Promise.resolve(e);Li.debug("need to get a new credential or refresh the existing one");var t=this.Auth,n=void 0===t?H.Auth:t;return n&&"function"==typeof n.currentUserCredentials?n.currentUserCredentials():Promise.reject("No Auth module registered in Amplify")},e.prototype.refreshFederatedToken=function(e){Li.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;return Li.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Li.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(Li.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(Li.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return T(n,[],1e4).then((function(e){return Li.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Li.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Li.debug("no credentials for expiration check"),!0;Li.debug("are these credentials expired?",e);var t=Date.now();return!(e.expiration.getTime()>t+6e5&&t<this._nextCredentialsRefresh)},e.prototype._setCredentialsForGuest=function(){return Ti(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a=this;return Pi(this,(function(u){switch(u.label){case 0:if(Li.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return Li.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!n)return Li.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];r=void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._storageSync];case 2:return u.sent(),r=this._storage.getItem("CognitoIdentityId-"+t),this._identityId=r,[3,4];case 3:return i=u.sent(),Li.debug("Failed to get the cached identityId",i),[3,4];case 4:return o=new Ei({region:n,customUserAgent:V()}),s=void 0,s=r?Jn({identityId:r,client:o})():function(){return Ti(a,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return[4,o.send(new Yn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Jn({client:o,identityId:e})()]}}))}))}().catch((function(e){return Ti(a,void 0,void 0,(function(){return Pi(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return Ti(a,void 0,void 0,(function(){var n=this;return Pi(this,(function(i){return"ResourceNotFoundException"===e.name&&e.message==="Identity '"+r+"' not found."?(Li.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+t),s=function(){return Ti(n,void 0,void 0,(function(){var e;return Pi(this,(function(n){switch(n.label){case 0:return[4,o.send(new Yn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Jn({client:o,identityId:e})()]}}))}))}().catch((function(e){return Ti(n,void 0,void 0,(function(){return Pi(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)]):[2,e]}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return Li.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Li.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new Ei({region:u,customUserAgent:V()}),f=void 0;r?f=Jn({identityId:r,logins:o,client:c})():f=Xn({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Li.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return Li.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Li.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new Ei({region:i,customUserAgent:V()}),c=Ti(t,void 0,void 0,(function(){var e;return Pi(this,(function(t){switch(t.label){case 0:return[4,u.send(new Yn({IdentityPoolId:s,Logins:a}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Jn({client:u,logins:a,identityId:e})()]}}))})).catch((function(e){return Ti(t,void 0,void 0,(function(){return Pi(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this,s=this._config.identityPoolId;return new Promise((function(a,u){e.then((function(e){return Ti(i,void 0,void 0,(function(){var i,u,c,f,l,h;return Pi(this,(function(d){switch(d.label){case 0:if(Li.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,f=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:i,expires_at:f,identity_id:l}))}catch(e){Li.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._storageSync];case 2:return d.sent(),this._storage.setItem("CognitoIdentityId-"+s,e.identityId),[3,4];case 3:return h=d.sent(),Li.debug("Failed to cache identityId",h),[3,4];case 4:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Li.debug("Failed to load credentials",e),Li.debug("Error loading credentials",t),void u(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Li.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Ti(this,void 0,void 0,(function(){return Pi(this,(function(e){return this._credentials=null,this._credentials_source=null,Li.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);H.register(Oi);var Ui=new f("Parser"),xi=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),Ui.debug("parse config",e,"to amplifyconfig",n),n},ki=function(){function e(){}return e.parseMobilehubConfig=xi,e}(),Di=n(10);function Mi(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var Ni,ji=function(){return(ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fi=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?Di.parse(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Di.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Mi(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Mi(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=ji(ji({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Di.serialize(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=ji(ji({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=ji({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Di.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),qi=Object(S.b)().isBrowser,Bi=function(){function e(e){void 0===e&&(e={}),this.cookies=new Fi,this.store=qi?window.localStorage:Object.create(null),this.cookies=e.req?new Fi(e.req.headers.cookie):new Fi,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e)},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"idToken":this.setUniversalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),Vi=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),zi=n(1),Gi=n(2),Hi=n.n(Gi),Ki=(n(30),n(12)),Wi=n.n(Ki),Ji=n(9),Yi=n.n(Ji),$i=Zi;function Zi(e,t){null!=e&&this.fromString(e,t)}function Xi(){return new Zi(null)}var Qi="undefined"!=typeof navigator;Qi&&"Microsoft Internet Explorer"==navigator.appName?(Zi.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},Ni=30):Qi&&"Netscape"!=navigator.appName?(Zi.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},Ni=26):(Zi.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+a*c,n[r++]=268435455&u}return i},Ni=28),Zi.prototype.DB=Ni,Zi.prototype.DM=(1<<Ni)-1,Zi.prototype.DV=1<<Ni;Zi.prototype.FV=Math.pow(2,52),Zi.prototype.F1=52-Ni,Zi.prototype.F2=2*Ni-52;var eo,to,no=new Array;for(eo="0".charCodeAt(0),to=0;to<=9;++to)no[eo++]=to;for(eo="a".charCodeAt(0),to=10;to<36;++to)no[eo++]=to;for(eo="A".charCodeAt(0),to=10;to<36;++to)no[eo++]=to;function ro(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function io(e,t){var n=no[e.charCodeAt(t)];return null==n?-1:n}function oo(e){var t=Xi();return t.fromInt(e),t}function so(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function ao(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}ao.prototype.convert=function(e){var t=Xi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Zi.ZERO)>0&&this.m.subTo(t,t),t},ao.prototype.revert=function(e){var t=Xi();return e.copyTo(t),this.reduce(t),t},ao.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},ao.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},ao.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Zi.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Zi.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Zi.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=io(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Zi.ZERO.subTo(this,this)},Zi.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Zi.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Zi.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Zi.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},Zi.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Zi.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Zi.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Zi.ZERO.subTo(t,t)},Zi.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Zi.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Xi());var o=Xi(),s=this.s,a=e.s,u=this.DB-so(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,f=o[c-1];if(0!=f){var l=f*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,g=n.t,v=g-c,y=null==t?Xi():t;for(o.dlShiftTo(v,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Zi.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=n[--g]==f?this.DM:Math.floor(n[g]*h+(n[g-1]+p)*d);if((n[g]+=o.am(0,m,n,v,0,c))<m)for(o.dlShiftTo(v,y),n.subTo(y,n);n[g]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&Zi.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&Zi.ZERO.subTo(n,n)}}},Zi.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Zi.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Zi.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=ro(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=ro(n));return i?o:"0"},Zi.prototype.negate=function(){var e=Xi();return Zi.ZERO.subTo(this,e),e},Zi.prototype.abs=function(){return this.s<0?this.negate():this},Zi.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Zi.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+so(this[this.t-1]^this.s&this.DM)},Zi.prototype.mod=function(e){var t=Xi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Zi.ZERO)>0&&e.subTo(t,t),t},Zi.prototype.equals=function(e){return 0==this.compareTo(e)},Zi.prototype.add=function(e){var t=Xi();return this.addTo(e,t),t},Zi.prototype.subtract=function(e){var t=Xi();return this.subTo(e,t),t},Zi.prototype.multiply=function(e){var t=Xi();return this.multiplyTo(e,t),t},Zi.prototype.divide=function(e){var t=Xi();return this.divRemTo(e,t,null),t},Zi.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=oo(1),s=new ao(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=s.convert(this),r>1){var l=Xi();for(s.sqrTo(a[1],l);u<=f;)a[u]=Xi(),s.mulTo(l,a[u-2],a[u]),u+=2}var h,d,p=e.t-1,g=!0,v=Xi();for(i=so(e[p])-1;p>=0;){for(i>=c?h=e[p]>>i-c&f:(h=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(h|=e[p-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[h].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(d=o,o=v,v=d),s.mulTo(v,a[h],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,v),d=o,o=v,v=d,--i<0&&(i=this.DB-1,--p)}var y=s.revert(o);return n(null,y),y},Zi.ZERO=oo(0),Zi.ONE=oo(1);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var uo=function(e){return zi.Buffer.from(Hi.a.lib.WordArray.random(e).toString(),"hex")},co=function(){function e(e){this.N=new $i("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new $i("2",16),this.k=new $i(this.hexHash("00"+this.N.toString(16)+"0"+this.g.toString(16)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=zi.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=uo(128).toString("hex");return new $i(e,16).mod(this.N)},t.generateRandomString=function(){return uo(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=uo(16).toString("hex");this.SaltToHashDevices=this.padHex(new $i(s,16)),this.g.modPow(new $i(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals($i.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new $i(this.UHexHash,16)},t.hash=function(e){var t=e instanceof zi.Buffer?Hi.a.lib.WordArray.create(e):e,n=Wi()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(zi.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=Hi.a.lib.WordArray.create(zi.Buffer.concat([this.infoBits,zi.Buffer.from(String.fromCharCode(1),"utf8")])),r=e instanceof zi.Buffer?Hi.a.lib.WordArray.create(e):e,i=t instanceof zi.Buffer?Hi.a.lib.WordArray.create(t):t,o=Yi()(r,i),s=Yi()(n,o);return zi.Buffer.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals($i.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals($i.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new $i(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(zi.Buffer.from(o.padHex(t),"hex"),zi.Buffer.from(o.padHex(o.UValue.toString(16)),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){var t=e.toString(16);return t.length%2==1?t="0"+t:-1!=="89ABCDEFabcdef".indexOf(t[0])&&(t="00"+t),t},e}(),fo=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(zi.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();var lo=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(fo);
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */
var ho=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(fo),po=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),go=n(13),vo=n.n(go),yo=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),mo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],bo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],So=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=bo[e.getUTCDay()],n=mo[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),wo=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),_o={},Ao=function(){function e(){}return e.setItem=function(e,t){return _o[e]=t,_o[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(_o,e)?_o[e]:void 0},e.removeItem=function(e){return delete _o[e]},e.clear=function(){return _o={}},e}(),Io=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Ao}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Co="undefined"!=typeof navigator?navigator.userAgent:"nodejs",Eo=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Io).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new co(this.pool.getUserPoolId().split("_")[1]),s=new So,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var f=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),l={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:f};i.getUserContextData(i.username)&&(l.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",l,(function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,n=new $i(c.SRP_B,16),r=new $i(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=Hi.a.lib.WordArray.create(zi.Buffer.concat([zi.Buffer.from(i.pool.getUserPoolId().split("_")[1],"utf8"),zi.Buffer.from(i.username,"utf8"),zi.Buffer.from(c.SECRET_BLOCK,"base64"),zi.Buffer.from(r,"utf8")])),l=Hi.a.lib.WordArray.create(n),h=vo.a.stringify(Yi()(a,l)),d={};d.USERNAME=i.username,d.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,d.TIMESTAMP=r,d.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(d.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:d,Session:u.Session,ClientMetadata:f};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(d.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(p,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new co(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var f=0;f<a.length;f++)u[f]=a[f].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"!==i){this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var l=e.AuthenticationResult.NewDeviceMetadata;if(null==l)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:zi.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zi.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=l.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:l.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Co},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))}else this.getDeviceResponse(n)},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new co(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new co(this.deviceGroupKey),i=new So,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new $i(s.SRP_B,16),u=new $i(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,(function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=Hi.a.lib.WordArray.create(zi.Buffer.concat([zi.Buffer.from(n.deviceGroupKey,"utf8"),zi.Buffer.from(n.deviceKey,"utf8"),zi.Buffer.from(s.SECRET_BLOCK,"base64"),zi.Buffer.from(a,"utf8")])),c=Hi.a.lib.WordArray.create(r),f=vo.a.stringify(Yi()(u,c)),l={};l.USERNAME=n.username,l.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,l.TIMESTAMP=a,l.PASSWORD_CLAIM_SIGNATURE=f,l.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:l,Session:o.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new co(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new co(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:zi.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zi.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Co},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new wo(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(){var e=this;return new Promise((function(t){var n=e.signInUserSession.getRefreshToken();n&&n.getToken()?e.refreshSession(n,t):t()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible().then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):t(null,"SUCCESS")}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e){if(null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=t+".idToken",r=t+".accessToken",i=t+".refreshToken",o=t+".clockDrift";if(this.storage.getItem(n)){var s=new ho({IdToken:this.storage.getItem(n)}),a=new lo({AccessToken:this.storage.getItem(r)}),u=new po({RefreshToken:this.storage.getItem(i)}),c=parseInt(this.storage.getItem(o),0)||0,f=new yo({IdToken:s,AccessToken:a,RefreshToken:u,ClockDrift:c});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!u.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(u,e)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i={};i.REFRESH_TOKEN=e.getToken();var o="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=o+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var a=o+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(a),i.DEVICE_KEY=this.deviceKey}var u={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",u,(function(n,i){if(n)return"NotAuthorizedException"===n.code&&r.clearCachedUser(),t(n,null);if(i){var o=i.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),t(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new ho(e),n=new lo(e),r=new po(e);return new yo({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess()}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess()}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(){this.signInUserSession=null,this.clearCachedUser()},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */n(54);function Ro(){}Ro.prototype.userAgent="aws-amplify/0.1.x js";var To=Ro;function Po(e){var t="function"==typeof Map?new Map:void 0;return(Po=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Lo(e,arguments,xo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Uo(r,e)})(e)}function Lo(e,t,n){return(Lo=Oo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Uo(i,n.prototype),i}).apply(null,arguments)}function Oo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ko,Do=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Po(Error)),Mo=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Do(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":To.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i={code:t,name:t,message:e.message||e.Message||null};return n(i)})).catch((function(e){if(!(r&&r.headers&&r.headers.get("x-amzn-errortype"))){if(e instanceof Error&&"Network error"===e.message){var t={code:"NetworkError",name:e.name,message:e.message};return n(t)}return n(e)}try{var i=r.headers.get("x-amzn-errortype").split(":")[0],o={code:i,name:i,statusCode:r.status,message:r.status?r.status.toString():null};return n(o)}catch(t){return n(e)}}))},e}(),No=function(){function e(e){var t=e||{},n=t.UserPoolId,r=t.ClientId,i=t.endpoint,o=t.fetchOptions,s=t.AdvancedSecurityDataCollectionFlag;if(!n||!r)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(n))throw new Error("Invalid UserPoolId format.");var a=n.split("_")[0];this.userPoolId=n,this.clientId=r,this.client=new Mo(a,i,o),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Io).getStorage()}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new Eo(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Eo(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),jo=n(8),Fo=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),jo.set(e,t,n),jo.get(e)},t.getItem=function(e){return jo.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),jo.remove(e,t)},t.clear=function(){var e,t=jo.get();for(e=0;e<t.length;++e)jo.remove(t[e]);return{}},e}(),qo=n(3),Bo=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Vo=function(){return(Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Go=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ho=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ko="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Wo=function(e,t,n){v.dispatch("auth",{event:e,data:t,message:n},"Auth",Ko)},Jo=new f("OAuth"),Yo=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Bo,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,i,o,s){void 0===e&&(e="code"),void 0===o&&(o=r.Cognito);var a=this._generateState(32),u=s?a+"-"+s:a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(encodeURIComponent(u));var c,f=this._generateRandom(128);c=f,window.sessionStorage.setItem("ouath_pkce_key",c);var l=this._generateChallenge(f),h=this._scopes.join(" "),d="https://"+t+"/oauth2/authorize?"+Object.entries(Vo(Vo({redirect_uri:n,response_type:e,client_id:i,identity_provider:o,scope:h,state:u},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=Ho(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");Jo.debug("Redirecting to "+d),this._urlOpener(d,n)},e.prototype._handleCodeFlow=function(e){return zo(this,void 0,void 0,(function(){var t,n,r,i,o,a,u,c,f,l,h,d;return Go(this,(function(p){switch(p.label){case 0:return(t=(Object(qo.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Ho(t,2),i=r[0],o=r[1];return Vo(Vo({},e),((n={})[i]=o,n))}),{code:void 0}).code)?(n="https://"+this._config.domain+"/oauth2/token",Wo("codeFlow",{},"Retrieving tokens from "+n),r=s(this._config)?this._cognitoClientId:this._config.clientID,i=s(this._config)?this._config.redirectSignIn:this._config.redirectUri,g=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),a=Vo({grant_type:"authorization_code",code:t,client_id:r,redirect_uri:i},(o=g)?{code_verifier:o}:{}),Jo.debug("Calling token endpoint: "+n+" with",a),u=Object.entries(a).map((function(e){var t=Ho(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:u})]):[2];case 1:return[4,p.sent().json()];case 2:if(c=p.sent(),f=c.access_token,l=c.refresh_token,h=c.id_token,d=c.error)throw new Error(d);return[2,{accessToken:f,refreshToken:l,idToken:h}]}var g}))}))},e.prototype._handleImplicitFlow=function(e){return zo(this,void 0,void 0,(function(){var t,n,r;return Go(this,(function(i){return t=(Object(qo.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Ho(t,2),i=r[0],o=r[1];return Vo(Vo({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Wo("implicitFlow",{},"Got tokens from "+e),Jo.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return zo(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Go(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Vo(Vo({},(Object(qo.parse)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Ho(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),(Object(qo.parse)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Ho(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Jo.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Vo.apply(void 0,[Vo.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Vo.apply(void 0,[Vo.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Jo.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return zo(this,void 0,void 0,(function(){var e,t,n;return Go(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=s(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=s(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=Ho(e,2);return t[0]+"="+t[1]})).join("&"),Wo("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Jo.debug("Signing out from "+e),[2,this._urlOpener(e)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(Wi()(e))},e.prototype._base64URL=function(e){return e.toString(vo.a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}();!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty"}(ko||(ko={}));var $o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zo=new f("AuthError"),Xo=function(e){function t(n){var r=this,i=es[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,Zo.error(r.log),r}return $o(t,e),t}(Error),Qo=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return $o(t,e),t}(Xo),es={noConfig:{message:ko.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of aws-amplify or amplify packages in your node_modules.\n                Try deleting your node_modules folder and reinstalling the dependencies with `yarn install`\n        "},missingAuthConfig:{message:ko.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties. \n            Did you run `amplify push` after adding auth via `amplify add auth`?\n            See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n        "},emptyUsername:{message:ko.EMPTY_USERNAME},invalidUsername:{message:ko.INVALID_USERNAME},emptyPassword:{message:ko.EMPTY_PASSWORD},emptyCode:{message:ko.EMPTY_CODE},signUpError:{message:ko.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:ko.NO_MFA},invalidMFA:{message:ko.INVALID_MFA},emptyChallengeResponse:{message:ko.EMPTY_CHALLENGE},noUserSession:{message:ko.NO_USER_SESSION},default:{message:ko.DEFAULT_MSG}},ts=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ns=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},is=new f("AuthClass"),os="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ss=function(e,t,n){v.dispatch("auth",{event:e,data:t,message:n},"Auth",os)},as=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=Oi,this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),v.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};is.debug("configure Auth");var n=Object.assign({},this._config,ki.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,a=r.cookieStorage,u=r.oauth,c=r.region,f=r.identityPoolId,l=r.mandatorySignIn,h=r.refreshHandlers,d=r.identityPoolRegion,p=r.clientMetadata,g=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw is.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new Fo(a):e.ssr?new Bi:(new b).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var v={UserPoolId:i,ClientId:o,endpoint:g};v.Storage=this._storage,this.userPool=new No(v)}this.Credentials.configure({mandatorySignIn:l,region:d||c,userPoolId:i,identityPoolId:f,refreshHandlers:h,storage:this._storage});var y=u?s(this._config.oauth)?u:u.awsCognito:void 0;if(y){var m=Object.assign({cognitoClientId:o,UserPoolId:i,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:p},y.options);this._oAuthHandler=new Yo({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var w={};!function(e){if(S.a.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!S.a.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;w[n]||(w[n]=!0,t._handleAuthResponse(n))}))}return ss("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var o,s=null,a=null,u=[],c=null;if(e&&"string"==typeof e){s=e,a=n?n[0]:null;var f=n?n[1]:null,l=n?n[2]:null;f&&u.push({Name:"email",Value:f}),l&&u.push({Name:"phone_number",Value:l})}else{if(!e||"object"!=typeof e)return this.rejectAuthError(i.SignUpError);s=e.username,a=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var h=e.attributes;h&&Object.keys(h).map((function(e){var t={Name:e,Value:h[e]};u.push(t)})),c=e.validationData||null}return s?a?(is.debug("signUp attrs:",u),is.debug("signUp validation data:",c),new Promise((function(e,n){t.userPool.signUp(s,a,u,c,(function(t,r){t?(ss("signUp_failure",t,s+" failed to signup"),n(t)):(ss("signUp",r,s+" has signed up successfully"),e(r))}),o)}))):this.rejectAuthError(i.EmptyPassword):this.rejectAuthError(i.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.EmptyUsername);if(!t)return this.rejectAuthError(i.EmptyCode);var r,o=this.createCognitoUser(e),s=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){o.confirmRegistration(t,s,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,s={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(i.InvalidUsername);void 0!==t&&is.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,s=e.validationData}if(!r)return this.rejectAuthError(i.EmptyUsername);var a=new Vi({Username:r,Password:o,ValidationData:s,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return ts(r,void 0,void 0,(function(){var r,s,a,u;return ns(this,(function(c){switch(c.label){case 0:is.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),is.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),is.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,ss("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),is.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){is.debug("signIn failure",t),ss("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){is.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){is.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){is.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){is.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){is.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){is.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,r,i))}))},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return is.debug("get MFA Options failed",e),void n(e);is.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this;return new Promise((function(r,i){var o=!!t&&t.bypassCache;e.getUserData((function(e,t){if(e)return is.debug("getting preferred mfa failed",e),void i(e);var o=n._getMfaTypeFromUserData(t);return o?void r(o):void i("invalid MFA Type")}),{bypassCache:o})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":is.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise((function(n,r){e.getUserData((function(e,t){return e?(is.debug("getting user data failed",e),void r(e)):void n(t)}),t)}))},e.prototype.setPreferredMFA=function(e,t){return ts(this,void 0,void 0,(function(){var n,r,o,s,a;return ns(this,(function(u){switch(u.label){case 0:return[4,this._getUserData(e,{bypassCache:!0})];case 1:switch(n=u.sent(),r=null,o=null,t){case"TOTP":return[3,2];case"SMS":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return r={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if("NOMFA"===(a=u.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)r={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(i.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach((function(e){"SMS_MFA"===e?r={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return is.debug("no validmfa method provided"),[2,this.rejectAuthError(i.NoMFA)];case 7:return this,[2,new Promise((function(t,n){e.setUserMfaPreference(r,o,(function(r,i){if(r)return is.debug("Set user mfa preference error",r),n(r);is.debug("Set user mfa success",i),is.debug("Caching the latest user data into local"),e.getUserData((function(e,r){return e?(is.debug("getting user data failed",e),n(e)):t(i)}),{bypassCache:!0})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return is.debug("disable mfa failed",e),void n(e);is.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return is.debug("enable mfa failed",e),void n(e);is.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){is.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){is.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return is.debug("verfication totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){is.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(e){is.debug("verifyTotpToken success",e),n(e)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(i.EmptyCode);var s=this;return new Promise((function(i,a){e.sendMFACode(t,{onSuccess:function(t){return ts(o,void 0,void 0,(function(){var n,r;return ns(this,(function(o){switch(o.label){case 0:is.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),is.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),is.debug("cannot get cognito credentials",r),[3,6];case 5:return s.user=e,ss("signIn",e,e+" has signed in"),i(e),[7];case 6:return[2]}}))}))},onFailure:function(e){is.debug("confirm signIn failure",e),a(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(i.EmptyPassword);var s=this;return new Promise((function(i,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return ts(o,void 0,void 0,(function(){var n,r;return ns(this,(function(o){switch(o.label){case 0:is.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),is.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),is.debug("cannot get cognito credentials",r),[3,6];case 5:return s.user=e,ss("signIn",e,e+" has signed in"),i(e),[7];case 6:return[2]}}))}))},onFailure:function(e){is.debug("completeNewPassword failure",e),ss("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){is.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,i(e)},mfaSetup:function(t,n){is.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,i(e)},totpRequired:function(t,n){is.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,i(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(i.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return ts(t,void 0,void 0,(function(){var t,i=this;return ns(this,(function(o){switch(o.label){case 0:return this.isOAuthInProgress()?(is.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){is.debug("OAuth signIn in progress timeout"),v.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(is.debug("OAuth signIn resolved: "+i),clearTimeout(t),v.remove("auth",n),e())}v.listen("auth",n)}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return(t=this.userPool.getCurrentUser())?(t.getSession((function(o,s){return ts(i,void 0,void 0,(function(){var i,a,u=this;return ns(this,(function(c){switch(c.label){case 0:return o?(is.debug("Failed to get the user session",o),r(o),[2]):(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,2];case 1:c.sent(),c.label=2;case 2:return a=s.getAccessToken().decodePayload().scope,(void 0===a?"":a).split(" ").includes("aws.cognito.signin.user.admin")?(t.getUserData((function(e,i){if(e)return is.debug("getting user data failed",e),void("User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?r(e):n(t));for(var o=i.PreferredMfaSetting||"NOMFA",s=[],a=0;a<i.UserAttributes.length;a++){var c={Name:i.UserAttributes[a].Name,Value:i.UserAttributes[a].Value},f=new wo(c);s.push(f)}var l=u.attributesToObject(s);return Object.assign(t,{attributes:l,preferredMFA:o}),n(t)}),{bypassCache:i}),[2]):(is.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),[2,n(t)])}}))}))})),[2]):(is.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return is.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return ts(this,void 0,void 0,(function(){var t,n,r,i;return ns(this,(function(o){switch(o.label){case 0:is.debug("getting current authenticated user"),t=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),is.debug("Failed to sync cache info into memory",n),n;case 4:try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user}catch(e){is.debug("cannot load federated user from auth storage")}return t?(this.user=t,is.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:is.debug("get current authenticated userpool user"),r=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return r=o.sent(),[3,9];case 8:throw"No userPool"===(i=o.sent())&&is.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),is.debug("The user is not authenticated by the error",i),"not authenticated";case 9:return this.user=r,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return is.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){is.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){is.debug("Failed to get the current user",e),n(e)}))})):Promise.reject()},e.prototype.userSession=function(e){return e?new Promise((function(t,n){is.debug("Getting the session from this user:",e),e.getSession((function(r,i){return r?(is.debug("Failed to get the session from user",e),void n(r)):(is.debug("Succeed to get the user session",i),void t(i))}))})):(is.debug("the user is null"),this.rejectAuthError(i.NoUserSession))},e.prototype.currentUserCredentials=function(){return ts(this,void 0,void 0,(function(){var e,t,n=this;return ns(this,(function(r){switch(r.label){case 0:is.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),is.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){is.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return is.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(e){return is.debug("getting session failed",e),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return is.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(){return r()},onFailure:function(e){return i(e)},clientMetadata:n})}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(i.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return ts(this,void 0,void 0,(function(){var n,r,i=this;return ns(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),is.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global)is.debug("user global sign out",t),t.getSession((function(e,s){if(e)return is.debug("failed to get the user session",e),o(e);t.globalSignOut({onSuccess:function(e){if(is.debug("global sign out success"),!r)return n();i.oAuthSignOutRedirect(n,o)},onFailure:function(e){return is.debug("global sign out failed",e),o(e)}})}));else{if(is.debug("user sign out",t),t.signOut(),!r)return n();i.oAuthSignOutRedirect(n,o)}}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){S.a.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e("Signout timeout fail")}),3e3)},e.prototype.signOut=function(e){return ts(this,void 0,void 0,(function(){var t;return ns(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),is.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:is.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:is.debug("no Congito User pool"),n.label=8;case 8:return ss("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return ts(this,void 0,void 0,(function(){return ns(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(is.debug("change password failure",e),s(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){is.debug("forgot password failure",t),ss("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){ss("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(i.EmptyUsername);if(!t)return this.rejectAuthError(i.EmptyCode);if(!n)return this.rejectAuthError(i.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,s){o.confirmPassword(t,n,{onSuccess:function(){ss("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i()},onFailure:function(t){ss("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)}))},e.prototype.currentUserInfo=function(){return ts(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return ns(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return is.debug(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),is.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),is.debug("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return ts(this,void 0,void 0,(function(){var i,a,u,c,f,l,h,d,p,g,v;return ns(this,(function(y){switch(y.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return o(e)||(m=e)&&["customProvider"].find((function(e){return m.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(i=e||{provider:r.Cognito},f=o(i)?i.provider:i.customProvider,o(i),a=i.customState,this._config.userPoolId&&(u=s(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,c=s(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,c,u,f,a)),[3,4]):[3,1];case 1:f=e;try{(l=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&is.warn("There is already a signed in user: "+l+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return h=t.token,d=t.identity_id,p=t.expires_at,[4,this.Credentials.set({provider:f,token:h,identity_id:d,user:n,expires_at:p},"federation")];case 2:return g=y.sent(),[4,this.currentAuthenticatedUser()];case 3:return v=y.sent(),ss("signIn",v,"A user "+v.username+" has been signed in"),is.debug("federated sign in credentials",g),[2,g];case 4:return[2]}var m}))}))},e.prototype._handleAuthResponse=function(e){return ts(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h,d,p;return ns(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return is.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(ss("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(S.a.browserOrNode().isBrowser?window.location.href:""),n=!!(Object(qo.parse)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=rs(e,1)[0];return"code"===t||"error"===t})),r=!!(Object(qo.parse)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=rs(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new yo({IdToken:new ho({IdToken:s}),RefreshToken:new po({RefreshToken:a}),AccessToken:new lo({AccessToken:o})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:f=g.sent(),is.debug("AWS credentials",f),g.label=5;case 5:return l=/-/.test(u),(h=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ss("signIn",h,"A user "+h.getUsername()+" has been signed in"),ss("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),l&&(d=u.split("-").splice(1).join("-"),ss("customOAuthState",d,"State for user "+h.getUsername())),[2,f];case 6:return p=g.sent(),is.debug("Error in cognito hosted auth response",p),ss("signIn_failure",p,"The OAuth response flow failed"),ss("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),ss("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?t[e.Name]="true"===e.Value||!0===e.Value:t[e.Name]=e.Value})),t},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Eo(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?i.NoConfig:i.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Xo(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Qo(e))},e}())(null);H.register(as);var us=as,cs=new f("ClientDevice_Browser");function fs(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return cs.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return cs.warn("No navigator object available to get browser client info"),{};var t=e.platform,n=e.product,r=e.vendor,i=e.userAgent,o=e.language,s=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var i=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var o=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var s=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);if(s)return{type:s[1],version:s[2]};return{type:"",version:""}}(i),a=(u=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()),u&&u[1]||"");var u;return{platform:t,make:n||r,model:s.type,version:s.version,appVersion:[s.type,s.version].join("/"),language:o,timezone:a}}()}var ls=function(){function e(){}return e.clientInfo=function(){return fs()},e.dimension=function(){return"undefined"==typeof window?(cs.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}},e}(),hs=n(15),ds=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ps={clockOffset:0,getDateWithClockOffset:function(){return ps.clockOffset?new Date((new Date).getTime()+ps.clockOffset):new Date},getClockOffset:function(){return ps.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=ps.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=ds(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(o),Number(s),Number(a)))},isClockSkewed:function(e){return Math.abs(e.getTime()-ps.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean("BadRequestException"===t["x-amzn-errortype"]&&(t.date||t.Date))},setClockOffset:function(e){ps.clockOffset=e}},gs=function(){return(gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},vs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ys=new f("Signer"),ms=function(e,t){var n=new hs.Sha256(e);return n.update(t),n.digestSync()},bs=function(e){var t=e||"",n=new hs.Sha256;return n.update(t),Object(ai.a)(n.digestSync())},Ss=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},ws=function(e){var t,n,r=Object(qo.parse)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),Ss(e.headers),bs(e.data)].join("\n")},_s=function(e){var t=(Object(qo.parse)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},As=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},Is=function(e,t,n,r){return[e,n,r,bs(t)].join("\n")},Cs=function(e,t,n){ys.debug(n);var r=ms("AWS4"+e,t),i=ms(r,n.region),o=ms(i,n.service);return ms(o,"aws4_request")},Es=function(e,t){return Object(ai.a)(ms(e,t))},Rs=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=ps.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=Object(qo.parse)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var s=ws(e);ys.debug(s);var a=n||_s(e),u=As(i,a.region,a.service),c=Is("AWS4-HMAC-SHA256",s,r,u),f=Cs(t.secret_key,i,a),l=Es(f,c),h=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}("AWS4-HMAC-SHA256",t.access_key,u,Ss(e.headers),l);return e.headers.Authorization=h,e},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,o="object"==typeof e?e.method:"GET",s="object"==typeof e?e.body:void 0,a=ps.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=a.substr(0,8),c=Object(qo.parse)(i,!0,!0),f=(c.search,vs(c,["search"])),l={host:f.host},h=n||_s({url:Object(qo.format)(f)}),d=h.region,p=h.service,g=As(u,d,p),v=t.session_token&&"iotdevicegateway"!==p,y=gs(gs(gs({"X-Amz-Algorithm":"AWS4-HMAC-SHA256","X-Amz-Credential":[t.access_key,g].join("/"),"X-Amz-Date":a.substr(0,16)},v?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(l).join(",")}),m=ws({method:o,url:Object(qo.format)(gs(gs({},f),{query:gs(gs({},f.query),y)})),headers:l,data:s}),b=Is("AWS4-HMAC-SHA256",m,a,g),S=Cs(t.secret_key,u,{region:d,service:p}),w=Es(S,b),_=gs({"X-Amz-Signature":w},t.session_token&&{"X-Amz-Security-Token":t.session_token});return Object(qo.format)({protocol:f.protocol,slashes:!0,hostname:f.hostname,port:f.port,pathname:f.pathname,query:gs(gs(gs({},f.query),y),_)})},e}(),Ts=function(e,t){return(Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ps(e,t){function n(){this.constructor=e}Ts(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ls=function(){return(Ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Os(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Us(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function xs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}var ks,Ds,Ms,Ns,js,Fs,qs,Bs,Vs,zs,Gs,Hs,Ks,Ws,Js,Ys,$s,Zs,Xs,Qs,ea,ta,na,ra,ia,oa,sa,aa,ua,ca,fa,la,ha,da,pa,ga,va,ya,ma,ba,Sa,wa,_a,Aa,Ia,Ca,Ea,Ra,Ta,Pa,La,Oa,Ua,xa,ka,Da,Ma,Na,ja,Fa,qa,Ba,Va,za,Ga,Ha,Ka,Wa,Ja,Ya,$a,Za,Xa,Qa,eu,tu,nu,ru,iu,ou,su,au,uu,cu,fu,lu,hu,du,pu,gu,vu,yu,mu,bu,Su,wu,_u,Au,Iu,Cu,Eu,Ru,Tu,Pu,Lu,Ou,Uu,xu,ku,Du,Mu,Nu,ju,Fu,qu,Bu,Vu,zu,Gu,Hu,Ku,Wu,Ju,Yu,$u,Zu,Xu,Qu,ec,tc,nc,rc,ic,oc,sc,ac,uc,cc,fc,lc,hc,dc,pc,gc,vc,yc,mc,bc,Sc,wc,_c,Ac,Ic,Cc,Ec,Rc,Tc,Pc,Lc,Oc,Uc,xc,kc,Dc,Mc,Nc,jc,Fc,qc,Bc,Vc,zc,Gc,Hc,Kc,Wc,Jc,Yc,$c,Zc,Xc,Qc,ef,tf,nf,rf,of,sf,af,uf,cf,ff,lf,hf,df,pf,gf,vf,yf,mf,bf,Sf,wf,_f,Af,If,Cf,Ef,Rf,Tf,Pf,Lf,Of,Uf,xf,kf,Df,Mf,Nf,jf,Ff,qf,Bf,Vf,zf,Gf,Hf,Kf,Wf,Jf,Yf,$f,Zf,Xf,Qf,el,tl,nl,rl,il,ol,sl,al,ul,cl,fl,ll,hl,dl,pl,gl,vl,yl,ml,bl,Sl,wl,_l,Al,Il,Cl,El,Rl,Tl,Pl,Ll,Ol,Ul,xl,kl,Dl,Ml,Nl,jl,Fl,ql,Bl,Vl,zl,Gl,Hl,Kl,Wl,Jl,Yl,$l,Zl,Xl,Ql,eh,th,nh,rh,ih,oh,sh,ah,uh,ch,fh,lh,hh,dh,ph,gh,vh,yh,mh,bh,Sh,wh,_h,Ah,Ih,Ch,Eh,Rh,Th,Ph,Lh,Oh,Uh,xh,kh,Dh,Mh,Nh,jh,Fh,qh,Bh,Vh,zh,Gh,Hh,Kh,Wh,Jh,Yh,$h,Zh,Xh,Qh,ed,td,nd,rd,id,od,sd,ad,ud,cd,fd,ld,hd,dd,pd,gd,vd,yd,md,bd,Sd,wd,_d,Ad,Id,Cd,Ed,Rd,Td,Pd,Ld,Od,Ud,xd,kd,Dd,Md,Nd,jd,Fd,qd,Bd,Vd,zd,Gd,Hd,Kd,Wd,Jd,Yd,$d,Zd,Xd,Qd,ep,tp,np,rp,ip,op,sp,ap,up,cp,fp,lp,hp,dp,pp,gp,vp,yp,mp,bp,Sp,wp,_p,Ap,Ip,Cp,Ep,Rp,Tp,Pp,Lp,Op,Up,xp,kp,Dp,Mp,Np,jp,Fp,qp,Bp,Vp,zp,Gp,Hp,Kp,Wp,Jp,Yp,$p,Zp,Xp,Qp,eg,tg,ng,rg,ig,og,sg,ag,ug,cg,fg,lg,hg,dg,pg,gg,vg,yg,mg,bg,Sg,wg,_g,Ag,Ig,Cg,Eg,Rg,Tg,Pg,Lg,Og,Ug,xg,kg,Dg,Mg,Ng,jg,Fg,qg,Bg,Vg,zg,Gg,Hg,Kg,Wg,Jg,Yg,$g,Zg,Xg,Qg,ev,tv,nv,rv,iv,ov,sv,av,uv,cv,fv,lv,hv,dv,pv,gv,vv,yv,mv,bv,Sv,wv,_v,Av,Iv,Cv,Ev,Rv,Tv,Pv,Lv,Ov,Uv,xv,kv,Dv,Mv,Nv,jv,Fv,qv,Bv,Vv,zv,Gv,Hv,Kv,Wv,Jv,Yv,$v,Zv,Xv,Qv,ey,ty,ny,ry,iy,oy,sy,ay,uy,cy,fy,ly,hy,dy,py,gy,vy,yy,my,by,Sy,wy,_y,Ay,Iy,Cy,Ey,Ry,Ty,Py,Ly,Oy,Uy,xy,ky,Dy,My,Ny,jy,Fy,qy,By,Vy,zy,Gy,Hy,Ky,Wy,Jy,Yy,$y,Zy,Xy,Qy,em,tm,nm,rm,im,om,sm,am,um,cm,fm,lm,hm,dm,pm,gm,vm,ym,mm,bm,Sm,wm,_m,Am,Im,Cm,Em,Rm,Tm,Pm,Lm,Om,Um,xm,km,Dm,Mm,Nm,jm,Fm,qm,Bm,Vm,zm,Gm,Hm,Km,Wm,Jm,Ym,$m,Zm,Xm,Qm,eb,tb,nb,rb,ib,ob,sb,ab,ub,cb,fb,lb,hb,db,pb,gb,vb,yb,mb,bb,Sb,wb,_b,Ab,Ib,Cb,Eb,Rb,Tb,Pb,Lb,Ob,Ub,xb,kb,Db,Mb,Nb,jb,Fb,qb,Bb,Vb,zb,Gb,Hb,Kb,Wb,Jb,Yb,$b,Zb,Xb,Qb,eS,tS,nS,rS,iS,oS,sS,aS,uS,cS,fS,lS,hS,dS,pS,gS,vS,yS,mS,bS,SS,wS,_S,AS,IS,CS,ES,RS,TS,PS,LS,OS,US,xS,kS,DS,MS,NS,jS,FS,qS,BS,VS,zS,GS,HS,KS,WS,JS,YS,$S,ZS,XS,QS,ew,tw,nw,rw,iw,ow,sw,aw,uw,cw,fw,lw,hw,dw,pw,gw,vw,yw,mw,bw,Sw,ww,_w,Aw,Iw,Cw,Ew,Rw,Tw,Pw,Lw,Ow,Uw,xw,kw,Dw,Mw,Nw,jw,Fw,qw,Bw,Vw,zw,Gw,Hw,Kw,Ww,Jw,Yw,$w,Zw,Xw,Qw,e_,t_,n_;Object.create;!function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(ks||(ks={})),function(e){e.DEEP_LINK="DEEP_LINK",e.OPEN_APP="OPEN_APP",e.URL="URL"}(Ds||(Ds={})),(Ns=Ms||(Ms={})).filterSensitiveLog=function(e){return Ls({},e)},Ns.isa=function(e){return oe(e,"ActivitiesResponse")},(Fs=js||(js={})).filterSensitiveLog=function(e){return Ls({},e)},Fs.isa=function(e){return oe(e,"Activity")},(Bs=qs||(qs={})).filterSensitiveLog=function(e){return Ls({},e)},Bs.isa=function(e){return oe(e,"ActivityResponse")},(zs=Vs||(Vs={})).filterSensitiveLog=function(e){return Ls({},e)},zs.isa=function(e){return oe(e,"AddressConfiguration")},(Hs=Gs||(Gs={})).filterSensitiveLog=function(e){return Ls({},e)},Hs.isa=function(e){return oe(e,"ADMChannelRequest")},(Ws=Ks||(Ks={})).filterSensitiveLog=function(e){return Ls({},e)},Ws.isa=function(e){return oe(e,"ADMChannelResponse")},(Ys=Js||(Js={})).filterSensitiveLog=function(e){return Ls({},e)},Ys.isa=function(e){return oe(e,"ADMMessage")},(Zs=$s||($s={})).filterSensitiveLog=function(e){return Ls({},e)},Zs.isa=function(e){return oe(e,"AndroidPushNotificationTemplate")},(Qs=Xs||(Xs={})).filterSensitiveLog=function(e){return Ls({},e)},Qs.isa=function(e){return oe(e,"APNSChannelRequest")},(ta=ea||(ea={})).filterSensitiveLog=function(e){return Ls({},e)},ta.isa=function(e){return oe(e,"APNSChannelResponse")},(ra=na||(na={})).filterSensitiveLog=function(e){return Ls({},e)},ra.isa=function(e){return oe(e,"APNSMessage")},(oa=ia||(ia={})).filterSensitiveLog=function(e){return Ls({},e)},oa.isa=function(e){return oe(e,"APNSPushNotificationTemplate")},(aa=sa||(sa={})).filterSensitiveLog=function(e){return Ls({},e)},aa.isa=function(e){return oe(e,"APNSSandboxChannelRequest")},(ca=ua||(ua={})).filterSensitiveLog=function(e){return Ls({},e)},ca.isa=function(e){return oe(e,"APNSSandboxChannelResponse")},(la=fa||(fa={})).filterSensitiveLog=function(e){return Ls({},e)},la.isa=function(e){return oe(e,"APNSVoipChannelRequest")},(da=ha||(ha={})).filterSensitiveLog=function(e){return Ls({},e)},da.isa=function(e){return oe(e,"APNSVoipChannelResponse")},(ga=pa||(pa={})).filterSensitiveLog=function(e){return Ls({},e)},ga.isa=function(e){return oe(e,"APNSVoipSandboxChannelRequest")},(ya=va||(va={})).filterSensitiveLog=function(e){return Ls({},e)},ya.isa=function(e){return oe(e,"APNSVoipSandboxChannelResponse")},(ba=ma||(ma={})).filterSensitiveLog=function(e){return Ls({},e)},ba.isa=function(e){return oe(e,"ApplicationDateRangeKpiResponse")},(wa=Sa||(Sa={})).filterSensitiveLog=function(e){return Ls({},e)},wa.isa=function(e){return oe(e,"ApplicationResponse")},(Aa=_a||(_a={})).filterSensitiveLog=function(e){return Ls({},e)},Aa.isa=function(e){return oe(e,"ApplicationSettingsResource")},(Ca=Ia||(Ia={})).filterSensitiveLog=function(e){return Ls({},e)},Ca.isa=function(e){return oe(e,"ApplicationsResponse")},(Ra=Ea||(Ea={})).filterSensitiveLog=function(e){return Ls({},e)},Ra.isa=function(e){return oe(e,"AttributeDimension")},(Pa=Ta||(Ta={})).filterSensitiveLog=function(e){return Ls({},e)},Pa.isa=function(e){return oe(e,"AttributesResource")},function(e){e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE"}(La||(La={})),(Ua=Oa||(Oa={})).filterSensitiveLog=function(e){return Ls({},e)},Ua.isa=function(e){return oe(e,"BadRequestException")},(ka=xa||(xa={})).filterSensitiveLog=function(e){return Ls({},e)},ka.isa=function(e){return oe(e,"BaiduChannelRequest")},(Ma=Da||(Da={})).filterSensitiveLog=function(e){return Ls({},e)},Ma.isa=function(e){return oe(e,"BaiduChannelResponse")},(ja=Na||(Na={})).filterSensitiveLog=function(e){return Ls({},e)},ja.isa=function(e){return oe(e,"BaiduMessage")},(qa=Fa||(Fa={})).filterSensitiveLog=function(e){return Ls({},e)},qa.isa=function(e){return oe(e,"BaseKpiResult")},(Va=Ba||(Ba={})).filterSensitiveLog=function(e){return Ls({},e)},Va.isa=function(e){return oe(e,"CampaignCustomMessage")},(Ga=za||(za={})).filterSensitiveLog=function(e){return Ls({},e)},Ga.isa=function(e){return oe(e,"CampaignDateRangeKpiResponse")},(Ka=Ha||(Ha={})).filterSensitiveLog=function(e){return Ls({},e)},Ka.isa=function(e){return oe(e,"CampaignEmailMessage")},(Ja=Wa||(Wa={})).filterSensitiveLog=function(e){return Ls({},e)},Ja.isa=function(e){return oe(e,"CampaignEventFilter")},($a=Ya||(Ya={})).filterSensitiveLog=function(e){return Ls({},e)},$a.isa=function(e){return oe(e,"CampaignHook")},(Xa=Za||(Za={})).filterSensitiveLog=function(e){return Ls({},e)},Xa.isa=function(e){return oe(e,"CampaignLimits")},(eu=Qa||(Qa={})).filterSensitiveLog=function(e){return Ls({},e)},eu.isa=function(e){return oe(e,"CampaignResponse")},(nu=tu||(tu={})).filterSensitiveLog=function(e){return Ls({},e)},nu.isa=function(e){return oe(e,"CampaignSmsMessage")},(iu=ru||(ru={})).filterSensitiveLog=function(e){return Ls({},e)},iu.isa=function(e){return oe(e,"CampaignsResponse")},(su=ou||(ou={})).filterSensitiveLog=function(e){return Ls({},e)},su.isa=function(e){return oe(e,"CampaignState")},function(e){e.COMPLETED="COMPLETED",e.DELETED="DELETED",e.EXECUTING="EXECUTING",e.PAUSED="PAUSED",e.PENDING_NEXT_RUN="PENDING_NEXT_RUN",e.SCHEDULED="SCHEDULED"}(au||(au={})),(cu=uu||(uu={})).filterSensitiveLog=function(e){return Ls({},e)},cu.isa=function(e){return oe(e,"ChannelResponse")},(lu=fu||(fu={})).filterSensitiveLog=function(e){return Ls({},e)},lu.isa=function(e){return oe(e,"ChannelsResponse")},function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(hu||(hu={})),(pu=du||(du={})).filterSensitiveLog=function(e){return Ls({},e)},pu.isa=function(e){return oe(e,"Condition")},(vu=gu||(gu={})).filterSensitiveLog=function(e){return Ls({},e)},vu.isa=function(e){return oe(e,"ConditionalSplitActivity")},(mu=yu||(yu={})).filterSensitiveLog=function(e){return Ls({},e)},mu.isa=function(e){return oe(e,"CreateApplicationRequest")},(Su=bu||(bu={})).filterSensitiveLog=function(e){return Ls({},e)},Su.isa=function(e){return oe(e,"CreateAppRequest")},(_u=wu||(wu={})).filterSensitiveLog=function(e){return Ls({},e)},_u.isa=function(e){return oe(e,"CreateAppResponse")},(Iu=Au||(Au={})).filterSensitiveLog=function(e){return Ls({},e)},Iu.isa=function(e){return oe(e,"CreateCampaignRequest")},(Eu=Cu||(Cu={})).filterSensitiveLog=function(e){return Ls({},e)},Eu.isa=function(e){return oe(e,"CreateCampaignResponse")},(Tu=Ru||(Ru={})).filterSensitiveLog=function(e){return Ls({},e)},Tu.isa=function(e){return oe(e,"CreateEmailTemplateRequest")},(Lu=Pu||(Pu={})).filterSensitiveLog=function(e){return Ls({},e)},Lu.isa=function(e){return oe(e,"CreateEmailTemplateResponse")},(Uu=Ou||(Ou={})).filterSensitiveLog=function(e){return Ls({},e)},Uu.isa=function(e){return oe(e,"CreateExportJobRequest")},(ku=xu||(xu={})).filterSensitiveLog=function(e){return Ls({},e)},ku.isa=function(e){return oe(e,"CreateExportJobResponse")},(Mu=Du||(Du={})).filterSensitiveLog=function(e){return Ls({},e)},Mu.isa=function(e){return oe(e,"CreateImportJobRequest")},(ju=Nu||(Nu={})).filterSensitiveLog=function(e){return Ls({},e)},ju.isa=function(e){return oe(e,"CreateImportJobResponse")},(qu=Fu||(Fu={})).filterSensitiveLog=function(e){return Ls({},e)},qu.isa=function(e){return oe(e,"CreateJourneyRequest")},(Vu=Bu||(Bu={})).filterSensitiveLog=function(e){return Ls({},e)},Vu.isa=function(e){return oe(e,"CreateJourneyResponse")},(Gu=zu||(zu={})).filterSensitiveLog=function(e){return Ls({},e)},Gu.isa=function(e){return oe(e,"CreatePushTemplateRequest")},(Ku=Hu||(Hu={})).filterSensitiveLog=function(e){return Ls({},e)},Ku.isa=function(e){return oe(e,"CreatePushTemplateResponse")},(Ju=Wu||(Wu={})).filterSensitiveLog=function(e){return Ls({},e)},Ju.isa=function(e){return oe(e,"CreateRecommenderConfigurationRequest")},($u=Yu||(Yu={})).filterSensitiveLog=function(e){return Ls({},e)},$u.isa=function(e){return oe(e,"CreateRecommenderConfigurationResponse")},(Xu=Zu||(Zu={})).filterSensitiveLog=function(e){return Ls({},e)},Xu.isa=function(e){return oe(e,"CreateRecommenderConfigurationShape")},(ec=Qu||(Qu={})).filterSensitiveLog=function(e){return Ls({},e)},ec.isa=function(e){return oe(e,"CreateSegmentRequest")},(nc=tc||(tc={})).filterSensitiveLog=function(e){return Ls({},e)},nc.isa=function(e){return oe(e,"CreateSegmentResponse")},(ic=rc||(rc={})).filterSensitiveLog=function(e){return Ls({},e)},ic.isa=function(e){return oe(e,"CreateSmsTemplateRequest")},(sc=oc||(oc={})).filterSensitiveLog=function(e){return Ls({},e)},sc.isa=function(e){return oe(e,"CreateSmsTemplateResponse")},(uc=ac||(ac={})).filterSensitiveLog=function(e){return Ls({},e)},uc.isa=function(e){return oe(e,"CreateTemplateMessageBody")},(fc=cc||(cc={})).filterSensitiveLog=function(e){return Ls({},e)},fc.isa=function(e){return oe(e,"CreateVoiceTemplateRequest")},(hc=lc||(lc={})).filterSensitiveLog=function(e){return Ls({},e)},hc.isa=function(e){return oe(e,"CreateVoiceTemplateResponse")},(pc=dc||(dc={})).filterSensitiveLog=function(e){return Ls({},e)},pc.isa=function(e){return oe(e,"CustomDeliveryConfiguration")},(vc=gc||(gc={})).filterSensitiveLog=function(e){return Ls({},e)},vc.isa=function(e){return oe(e,"CustomMessageActivity")},(mc=yc||(yc={})).filterSensitiveLog=function(e){return Ls({},e)},mc.isa=function(e){return oe(e,"DefaultMessage")},(Sc=bc||(bc={})).filterSensitiveLog=function(e){return Ls({},e)},Sc.isa=function(e){return oe(e,"DefaultPushNotificationMessage")},(_c=wc||(wc={})).filterSensitiveLog=function(e){return Ls({},e)},_c.isa=function(e){return oe(e,"DefaultPushNotificationTemplate")},(Ic=Ac||(Ac={})).filterSensitiveLog=function(e){return Ls({},e)},Ic.isa=function(e){return oe(e,"DeleteAdmChannelRequest")},(Ec=Cc||(Cc={})).filterSensitiveLog=function(e){return Ls({},e)},Ec.isa=function(e){return oe(e,"DeleteAdmChannelResponse")},(Tc=Rc||(Rc={})).filterSensitiveLog=function(e){return Ls({},e)},Tc.isa=function(e){return oe(e,"DeleteApnsChannelRequest")},(Lc=Pc||(Pc={})).filterSensitiveLog=function(e){return Ls({},e)},Lc.isa=function(e){return oe(e,"DeleteApnsChannelResponse")},(Uc=Oc||(Oc={})).filterSensitiveLog=function(e){return Ls({},e)},Uc.isa=function(e){return oe(e,"DeleteApnsSandboxChannelRequest")},(kc=xc||(xc={})).filterSensitiveLog=function(e){return Ls({},e)},kc.isa=function(e){return oe(e,"DeleteApnsSandboxChannelResponse")},(Mc=Dc||(Dc={})).filterSensitiveLog=function(e){return Ls({},e)},Mc.isa=function(e){return oe(e,"DeleteApnsVoipChannelRequest")},(jc=Nc||(Nc={})).filterSensitiveLog=function(e){return Ls({},e)},jc.isa=function(e){return oe(e,"DeleteApnsVoipChannelResponse")},(qc=Fc||(Fc={})).filterSensitiveLog=function(e){return Ls({},e)},qc.isa=function(e){return oe(e,"DeleteApnsVoipSandboxChannelRequest")},(Vc=Bc||(Bc={})).filterSensitiveLog=function(e){return Ls({},e)},Vc.isa=function(e){return oe(e,"DeleteApnsVoipSandboxChannelResponse")},(Gc=zc||(zc={})).filterSensitiveLog=function(e){return Ls({},e)},Gc.isa=function(e){return oe(e,"DeleteAppRequest")},(Kc=Hc||(Hc={})).filterSensitiveLog=function(e){return Ls({},e)},Kc.isa=function(e){return oe(e,"DeleteAppResponse")},(Jc=Wc||(Wc={})).filterSensitiveLog=function(e){return Ls({},e)},Jc.isa=function(e){return oe(e,"DeleteBaiduChannelRequest")},($c=Yc||(Yc={})).filterSensitiveLog=function(e){return Ls({},e)},$c.isa=function(e){return oe(e,"DeleteBaiduChannelResponse")},(Xc=Zc||(Zc={})).filterSensitiveLog=function(e){return Ls({},e)},Xc.isa=function(e){return oe(e,"DeleteCampaignRequest")},(ef=Qc||(Qc={})).filterSensitiveLog=function(e){return Ls({},e)},ef.isa=function(e){return oe(e,"DeleteCampaignResponse")},(nf=tf||(tf={})).filterSensitiveLog=function(e){return Ls({},e)},nf.isa=function(e){return oe(e,"DeleteEmailChannelRequest")},(of=rf||(rf={})).filterSensitiveLog=function(e){return Ls({},e)},of.isa=function(e){return oe(e,"DeleteEmailChannelResponse")},(af=sf||(sf={})).filterSensitiveLog=function(e){return Ls({},e)},af.isa=function(e){return oe(e,"DeleteEmailTemplateRequest")},(cf=uf||(uf={})).filterSensitiveLog=function(e){return Ls({},e)},cf.isa=function(e){return oe(e,"DeleteEmailTemplateResponse")},(lf=ff||(ff={})).filterSensitiveLog=function(e){return Ls({},e)},lf.isa=function(e){return oe(e,"DeleteEndpointRequest")},(df=hf||(hf={})).filterSensitiveLog=function(e){return Ls({},e)},df.isa=function(e){return oe(e,"DeleteEndpointResponse")},(gf=pf||(pf={})).filterSensitiveLog=function(e){return Ls({},e)},gf.isa=function(e){return oe(e,"DeleteEventStreamRequest")},(yf=vf||(vf={})).filterSensitiveLog=function(e){return Ls({},e)},yf.isa=function(e){return oe(e,"DeleteEventStreamResponse")},(bf=mf||(mf={})).filterSensitiveLog=function(e){return Ls({},e)},bf.isa=function(e){return oe(e,"DeleteGcmChannelRequest")},(wf=Sf||(Sf={})).filterSensitiveLog=function(e){return Ls({},e)},wf.isa=function(e){return oe(e,"DeleteGcmChannelResponse")},(Af=_f||(_f={})).filterSensitiveLog=function(e){return Ls({},e)},Af.isa=function(e){return oe(e,"DeleteJourneyRequest")},(Cf=If||(If={})).filterSensitiveLog=function(e){return Ls({},e)},Cf.isa=function(e){return oe(e,"DeleteJourneyResponse")},(Rf=Ef||(Ef={})).filterSensitiveLog=function(e){return Ls({},e)},Rf.isa=function(e){return oe(e,"DeletePushTemplateRequest")},(Pf=Tf||(Tf={})).filterSensitiveLog=function(e){return Ls({},e)},Pf.isa=function(e){return oe(e,"DeletePushTemplateResponse")},(Of=Lf||(Lf={})).filterSensitiveLog=function(e){return Ls({},e)},Of.isa=function(e){return oe(e,"DeleteRecommenderConfigurationRequest")},(xf=Uf||(Uf={})).filterSensitiveLog=function(e){return Ls({},e)},xf.isa=function(e){return oe(e,"DeleteRecommenderConfigurationResponse")},(Df=kf||(kf={})).filterSensitiveLog=function(e){return Ls({},e)},Df.isa=function(e){return oe(e,"DeleteSegmentRequest")},(Nf=Mf||(Mf={})).filterSensitiveLog=function(e){return Ls({},e)},Nf.isa=function(e){return oe(e,"DeleteSegmentResponse")},(Ff=jf||(jf={})).filterSensitiveLog=function(e){return Ls({},e)},Ff.isa=function(e){return oe(e,"DeleteSmsChannelRequest")},(Bf=qf||(qf={})).filterSensitiveLog=function(e){return Ls({},e)},Bf.isa=function(e){return oe(e,"DeleteSmsChannelResponse")},(zf=Vf||(Vf={})).filterSensitiveLog=function(e){return Ls({},e)},zf.isa=function(e){return oe(e,"DeleteSmsTemplateRequest")},(Hf=Gf||(Gf={})).filterSensitiveLog=function(e){return Ls({},e)},Hf.isa=function(e){return oe(e,"DeleteSmsTemplateResponse")},(Wf=Kf||(Kf={})).filterSensitiveLog=function(e){return Ls({},e)},Wf.isa=function(e){return oe(e,"DeleteUserEndpointsRequest")},(Yf=Jf||(Jf={})).filterSensitiveLog=function(e){return Ls({},e)},Yf.isa=function(e){return oe(e,"DeleteUserEndpointsResponse")},(Zf=$f||($f={})).filterSensitiveLog=function(e){return Ls({},e)},Zf.isa=function(e){return oe(e,"DeleteVoiceChannelRequest")},(Qf=Xf||(Xf={})).filterSensitiveLog=function(e){return Ls({},e)},Qf.isa=function(e){return oe(e,"DeleteVoiceChannelResponse")},(tl=el||(el={})).filterSensitiveLog=function(e){return Ls({},e)},tl.isa=function(e){return oe(e,"DeleteVoiceTemplateRequest")},(rl=nl||(nl={})).filterSensitiveLog=function(e){return Ls({},e)},rl.isa=function(e){return oe(e,"DeleteVoiceTemplateResponse")},function(e){e.DUPLICATE="DUPLICATE",e.OPT_OUT="OPT_OUT",e.PERMANENT_FAILURE="PERMANENT_FAILURE",e.SUCCESSFUL="SUCCESSFUL",e.TEMPORARY_FAILURE="TEMPORARY_FAILURE",e.THROTTLED="THROTTLED",e.UNKNOWN_FAILURE="UNKNOWN_FAILURE"}(il||(il={})),function(e){e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE"}(ol||(ol={})),(al=sl||(sl={})).filterSensitiveLog=function(e){return Ls({},e)},al.isa=function(e){return oe(e,"DirectMessageConfiguration")},function(e){e.DAY_14="DAY_14",e.DAY_30="DAY_30",e.DAY_7="DAY_7",e.HR_24="HR_24"}(ul||(ul={})),(fl=cl||(cl={})).filterSensitiveLog=function(e){return Ls({},e)},fl.isa=function(e){return oe(e,"EmailChannelRequest")},(hl=ll||(ll={})).filterSensitiveLog=function(e){return Ls({},e)},hl.isa=function(e){return oe(e,"EmailChannelResponse")},(pl=dl||(dl={})).filterSensitiveLog=function(e){return Ls({},e)},pl.isa=function(e){return oe(e,"EmailMessage")},(vl=gl||(gl={})).filterSensitiveLog=function(e){return Ls({},e)},vl.isa=function(e){return oe(e,"EmailMessageActivity")},(ml=yl||(yl={})).filterSensitiveLog=function(e){return Ls({},e)},ml.isa=function(e){return oe(e,"EmailTemplateRequest")},(Sl=bl||(bl={})).filterSensitiveLog=function(e){return Ls({},e)},Sl.isa=function(e){return oe(e,"EmailTemplateResponse")},(_l=wl||(wl={})).filterSensitiveLog=function(e){return Ls({},e)},_l.isa=function(e){return oe(e,"EndpointBatchItem")},(Il=Al||(Al={})).filterSensitiveLog=function(e){return Ls({},e)},Il.isa=function(e){return oe(e,"EndpointBatchRequest")},(El=Cl||(Cl={})).filterSensitiveLog=function(e){return Ls({},e)},El.isa=function(e){return oe(e,"EndpointDemographic")},(Tl=Rl||(Rl={})).filterSensitiveLog=function(e){return Ls({},e)},Tl.isa=function(e){return oe(e,"EndpointItemResponse")},(Ll=Pl||(Pl={})).filterSensitiveLog=function(e){return Ls({},e)},Ll.isa=function(e){return oe(e,"EndpointLocation")},(Ul=Ol||(Ol={})).filterSensitiveLog=function(e){return Ls({},e)},Ul.isa=function(e){return oe(e,"EndpointMessageResult")},(kl=xl||(xl={})).filterSensitiveLog=function(e){return Ls({},e)},kl.isa=function(e){return oe(e,"EndpointRequest")},(Ml=Dl||(Dl={})).filterSensitiveLog=function(e){return Ls({},e)},Ml.isa=function(e){return oe(e,"EndpointResponse")},(jl=Nl||(Nl={})).filterSensitiveLog=function(e){return Ls({},e)},jl.isa=function(e){return oe(e,"EndpointSendConfiguration")},(ql=Fl||(Fl={})).filterSensitiveLog=function(e){return Ls({},e)},ql.isa=function(e){return oe(e,"EndpointsResponse")},(Vl=Bl||(Bl={})).filterSensitiveLog=function(e){return Ls({},e)},Vl.isa=function(e){return oe(e,"EndpointUser")},(Gl=zl||(zl={})).filterSensitiveLog=function(e){return Ls({},e)},Gl.isa=function(e){return oe(e,"Event")},(Kl=Hl||(Hl={})).filterSensitiveLog=function(e){return Ls({},e)},Kl.isa=function(e){return oe(e,"EventCondition")},(Jl=Wl||(Wl={})).filterSensitiveLog=function(e){return Ls({},e)},Jl.isa=function(e){return oe(e,"EventDimensions")},($l=Yl||(Yl={})).filterSensitiveLog=function(e){return Ls({},e)},$l.isa=function(e){return oe(e,"EventItemResponse")},(Xl=Zl||(Zl={})).filterSensitiveLog=function(e){return Ls({},e)},Xl.isa=function(e){return oe(e,"EventsBatch")},(eh=Ql||(Ql={})).filterSensitiveLog=function(e){return Ls({},e)},eh.isa=function(e){return oe(e,"EventsRequest")},(nh=th||(th={})).filterSensitiveLog=function(e){return Ls({},e)},nh.isa=function(e){return oe(e,"EventsResponse")},(ih=rh||(rh={})).filterSensitiveLog=function(e){return Ls({},e)},ih.isa=function(e){return oe(e,"EventStream")},(sh=oh||(oh={})).filterSensitiveLog=function(e){return Ls({},e)},sh.isa=function(e){return oe(e,"ExportJobRequest")},(uh=ah||(ah={})).filterSensitiveLog=function(e){return Ls({},e)},uh.isa=function(e){return oe(e,"ExportJobResource")},(fh=ch||(ch={})).filterSensitiveLog=function(e){return Ls({},e)},fh.isa=function(e){return oe(e,"ExportJobResponse")},(hh=lh||(lh={})).filterSensitiveLog=function(e){return Ls({},e)},hh.isa=function(e){return oe(e,"ExportJobsResponse")},function(e){e.ENDPOINT="ENDPOINT",e.SYSTEM="SYSTEM"}(dh||(dh={})),(gh=ph||(ph={})).filterSensitiveLog=function(e){return Ls({},e)},gh.isa=function(e){return oe(e,"ForbiddenException")},function(e){e.CSV="CSV",e.JSON="JSON"}(vh||(vh={})),function(e){e.DAILY="DAILY",e.EVENT="EVENT",e.HOURLY="HOURLY",e.MONTHLY="MONTHLY",e.ONCE="ONCE",e.WEEKLY="WEEKLY"}(yh||(yh={})),(bh=mh||(mh={})).filterSensitiveLog=function(e){return Ls({},e)},bh.isa=function(e){return oe(e,"GCMChannelRequest")},(wh=Sh||(Sh={})).filterSensitiveLog=function(e){return Ls({},e)},wh.isa=function(e){return oe(e,"GCMChannelResponse")},(Ah=_h||(_h={})).filterSensitiveLog=function(e){return Ls({},e)},Ah.isa=function(e){return oe(e,"GCMMessage")},(Ch=Ih||(Ih={})).filterSensitiveLog=function(e){return Ls({},e)},Ch.isa=function(e){return oe(e,"GetAdmChannelRequest")},(Rh=Eh||(Eh={})).filterSensitiveLog=function(e){return Ls({},e)},Rh.isa=function(e){return oe(e,"GetAdmChannelResponse")},(Ph=Th||(Th={})).filterSensitiveLog=function(e){return Ls({},e)},Ph.isa=function(e){return oe(e,"GetApnsChannelRequest")},(Oh=Lh||(Lh={})).filterSensitiveLog=function(e){return Ls({},e)},Oh.isa=function(e){return oe(e,"GetApnsChannelResponse")},(xh=Uh||(Uh={})).filterSensitiveLog=function(e){return Ls({},e)},xh.isa=function(e){return oe(e,"GetApnsSandboxChannelRequest")},(Dh=kh||(kh={})).filterSensitiveLog=function(e){return Ls({},e)},Dh.isa=function(e){return oe(e,"GetApnsSandboxChannelResponse")},(Nh=Mh||(Mh={})).filterSensitiveLog=function(e){return Ls({},e)},Nh.isa=function(e){return oe(e,"GetApnsVoipChannelRequest")},(Fh=jh||(jh={})).filterSensitiveLog=function(e){return Ls({},e)},Fh.isa=function(e){return oe(e,"GetApnsVoipChannelResponse")},(Bh=qh||(qh={})).filterSensitiveLog=function(e){return Ls({},e)},Bh.isa=function(e){return oe(e,"GetApnsVoipSandboxChannelRequest")},(zh=Vh||(Vh={})).filterSensitiveLog=function(e){return Ls({},e)},zh.isa=function(e){return oe(e,"GetApnsVoipSandboxChannelResponse")},(Hh=Gh||(Gh={})).filterSensitiveLog=function(e){return Ls({},e)},Hh.isa=function(e){return oe(e,"GetApplicationDateRangeKpiRequest")},(Wh=Kh||(Kh={})).filterSensitiveLog=function(e){return Ls({},e)},Wh.isa=function(e){return oe(e,"GetApplicationDateRangeKpiResponse")},(Yh=Jh||(Jh={})).filterSensitiveLog=function(e){return Ls({},e)},Yh.isa=function(e){return oe(e,"GetApplicationSettingsRequest")},(Zh=$h||($h={})).filterSensitiveLog=function(e){return Ls({},e)},Zh.isa=function(e){return oe(e,"GetApplicationSettingsResponse")},(Qh=Xh||(Xh={})).filterSensitiveLog=function(e){return Ls({},e)},Qh.isa=function(e){return oe(e,"GetAppRequest")},(td=ed||(ed={})).filterSensitiveLog=function(e){return Ls({},e)},td.isa=function(e){return oe(e,"GetAppResponse")},(rd=nd||(nd={})).filterSensitiveLog=function(e){return Ls({},e)},rd.isa=function(e){return oe(e,"GetAppsRequest")},(od=id||(id={})).filterSensitiveLog=function(e){return Ls({},e)},od.isa=function(e){return oe(e,"GetAppsResponse")},(ad=sd||(sd={})).filterSensitiveLog=function(e){return Ls({},e)},ad.isa=function(e){return oe(e,"GetBaiduChannelRequest")},(cd=ud||(ud={})).filterSensitiveLog=function(e){return Ls({},e)},cd.isa=function(e){return oe(e,"GetBaiduChannelResponse")},(ld=fd||(fd={})).filterSensitiveLog=function(e){return Ls({},e)},ld.isa=function(e){return oe(e,"GetCampaignActivitiesRequest")},(dd=hd||(hd={})).filterSensitiveLog=function(e){return Ls({},e)},dd.isa=function(e){return oe(e,"GetCampaignActivitiesResponse")},(gd=pd||(pd={})).filterSensitiveLog=function(e){return Ls({},e)},gd.isa=function(e){return oe(e,"GetCampaignDateRangeKpiRequest")},(yd=vd||(vd={})).filterSensitiveLog=function(e){return Ls({},e)},yd.isa=function(e){return oe(e,"GetCampaignDateRangeKpiResponse")},(bd=md||(md={})).filterSensitiveLog=function(e){return Ls({},e)},bd.isa=function(e){return oe(e,"GetCampaignRequest")},(wd=Sd||(Sd={})).filterSensitiveLog=function(e){return Ls({},e)},wd.isa=function(e){return oe(e,"GetCampaignResponse")},(Ad=_d||(_d={})).filterSensitiveLog=function(e){return Ls({},e)},Ad.isa=function(e){return oe(e,"GetCampaignsRequest")},(Cd=Id||(Id={})).filterSensitiveLog=function(e){return Ls({},e)},Cd.isa=function(e){return oe(e,"GetCampaignsResponse")},(Rd=Ed||(Ed={})).filterSensitiveLog=function(e){return Ls({},e)},Rd.isa=function(e){return oe(e,"GetCampaignVersionRequest")},(Pd=Td||(Td={})).filterSensitiveLog=function(e){return Ls({},e)},Pd.isa=function(e){return oe(e,"GetCampaignVersionResponse")},(Od=Ld||(Ld={})).filterSensitiveLog=function(e){return Ls({},e)},Od.isa=function(e){return oe(e,"GetCampaignVersionsRequest")},(xd=Ud||(Ud={})).filterSensitiveLog=function(e){return Ls({},e)},xd.isa=function(e){return oe(e,"GetCampaignVersionsResponse")},(Dd=kd||(kd={})).filterSensitiveLog=function(e){return Ls({},e)},Dd.isa=function(e){return oe(e,"GetChannelsRequest")},(Nd=Md||(Md={})).filterSensitiveLog=function(e){return Ls({},e)},Nd.isa=function(e){return oe(e,"GetChannelsResponse")},(Fd=jd||(jd={})).filterSensitiveLog=function(e){return Ls({},e)},Fd.isa=function(e){return oe(e,"GetEmailChannelRequest")},(Bd=qd||(qd={})).filterSensitiveLog=function(e){return Ls({},e)},Bd.isa=function(e){return oe(e,"GetEmailChannelResponse")},(zd=Vd||(Vd={})).filterSensitiveLog=function(e){return Ls({},e)},zd.isa=function(e){return oe(e,"GetEmailTemplateRequest")},(Hd=Gd||(Gd={})).filterSensitiveLog=function(e){return Ls({},e)},Hd.isa=function(e){return oe(e,"GetEmailTemplateResponse")},(Wd=Kd||(Kd={})).filterSensitiveLog=function(e){return Ls({},e)},Wd.isa=function(e){return oe(e,"GetEndpointRequest")},(Yd=Jd||(Jd={})).filterSensitiveLog=function(e){return Ls({},e)},Yd.isa=function(e){return oe(e,"GetEndpointResponse")},(Zd=$d||($d={})).filterSensitiveLog=function(e){return Ls({},e)},Zd.isa=function(e){return oe(e,"GetEventStreamRequest")},(Qd=Xd||(Xd={})).filterSensitiveLog=function(e){return Ls({},e)},Qd.isa=function(e){return oe(e,"GetEventStreamResponse")},(tp=ep||(ep={})).filterSensitiveLog=function(e){return Ls({},e)},tp.isa=function(e){return oe(e,"GetExportJobRequest")},(rp=np||(np={})).filterSensitiveLog=function(e){return Ls({},e)},rp.isa=function(e){return oe(e,"GetExportJobResponse")},(op=ip||(ip={})).filterSensitiveLog=function(e){return Ls({},e)},op.isa=function(e){return oe(e,"GetExportJobsRequest")},(ap=sp||(sp={})).filterSensitiveLog=function(e){return Ls({},e)},ap.isa=function(e){return oe(e,"GetExportJobsResponse")},(cp=up||(up={})).filterSensitiveLog=function(e){return Ls({},e)},cp.isa=function(e){return oe(e,"GetGcmChannelRequest")},(lp=fp||(fp={})).filterSensitiveLog=function(e){return Ls({},e)},lp.isa=function(e){return oe(e,"GetGcmChannelResponse")},(dp=hp||(hp={})).filterSensitiveLog=function(e){return Ls({},e)},dp.isa=function(e){return oe(e,"GetImportJobRequest")},(gp=pp||(pp={})).filterSensitiveLog=function(e){return Ls({},e)},gp.isa=function(e){return oe(e,"GetImportJobResponse")},(yp=vp||(vp={})).filterSensitiveLog=function(e){return Ls({},e)},yp.isa=function(e){return oe(e,"GetImportJobsRequest")},(bp=mp||(mp={})).filterSensitiveLog=function(e){return Ls({},e)},bp.isa=function(e){return oe(e,"GetImportJobsResponse")},(wp=Sp||(Sp={})).filterSensitiveLog=function(e){return Ls({},e)},wp.isa=function(e){return oe(e,"GetJourneyDateRangeKpiRequest")},(Ap=_p||(_p={})).filterSensitiveLog=function(e){return Ls({},e)},Ap.isa=function(e){return oe(e,"GetJourneyDateRangeKpiResponse")},(Cp=Ip||(Ip={})).filterSensitiveLog=function(e){return Ls({},e)},Cp.isa=function(e){return oe(e,"GetJourneyExecutionActivityMetricsRequest")},(Rp=Ep||(Ep={})).filterSensitiveLog=function(e){return Ls({},e)},Rp.isa=function(e){return oe(e,"GetJourneyExecutionActivityMetricsResponse")},(Pp=Tp||(Tp={})).filterSensitiveLog=function(e){return Ls({},e)},Pp.isa=function(e){return oe(e,"GetJourneyExecutionMetricsRequest")},(Op=Lp||(Lp={})).filterSensitiveLog=function(e){return Ls({},e)},Op.isa=function(e){return oe(e,"GetJourneyExecutionMetricsResponse")},(xp=Up||(Up={})).filterSensitiveLog=function(e){return Ls({},e)},xp.isa=function(e){return oe(e,"GetJourneyRequest")},(Dp=kp||(kp={})).filterSensitiveLog=function(e){return Ls({},e)},Dp.isa=function(e){return oe(e,"GetJourneyResponse")},(Np=Mp||(Mp={})).filterSensitiveLog=function(e){return Ls({},e)},Np.isa=function(e){return oe(e,"GetPushTemplateRequest")},(Fp=jp||(jp={})).filterSensitiveLog=function(e){return Ls({},e)},Fp.isa=function(e){return oe(e,"GetPushTemplateResponse")},(Bp=qp||(qp={})).filterSensitiveLog=function(e){return Ls({},e)},Bp.isa=function(e){return oe(e,"GetRecommenderConfigurationRequest")},(zp=Vp||(Vp={})).filterSensitiveLog=function(e){return Ls({},e)},zp.isa=function(e){return oe(e,"GetRecommenderConfigurationResponse")},(Hp=Gp||(Gp={})).filterSensitiveLog=function(e){return Ls({},e)},Hp.isa=function(e){return oe(e,"GetRecommenderConfigurationsRequest")},(Wp=Kp||(Kp={})).filterSensitiveLog=function(e){return Ls({},e)},Wp.isa=function(e){return oe(e,"GetRecommenderConfigurationsResponse")},(Yp=Jp||(Jp={})).filterSensitiveLog=function(e){return Ls({},e)},Yp.isa=function(e){return oe(e,"GetSegmentExportJobsRequest")},(Zp=$p||($p={})).filterSensitiveLog=function(e){return Ls({},e)},Zp.isa=function(e){return oe(e,"GetSegmentExportJobsResponse")},(Qp=Xp||(Xp={})).filterSensitiveLog=function(e){return Ls({},e)},Qp.isa=function(e){return oe(e,"GetSegmentImportJobsRequest")},(tg=eg||(eg={})).filterSensitiveLog=function(e){return Ls({},e)},tg.isa=function(e){return oe(e,"GetSegmentImportJobsResponse")},(rg=ng||(ng={})).filterSensitiveLog=function(e){return Ls({},e)},rg.isa=function(e){return oe(e,"GetSegmentRequest")},(og=ig||(ig={})).filterSensitiveLog=function(e){return Ls({},e)},og.isa=function(e){return oe(e,"GetSegmentResponse")},(ag=sg||(sg={})).filterSensitiveLog=function(e){return Ls({},e)},ag.isa=function(e){return oe(e,"GetSegmentsRequest")},(cg=ug||(ug={})).filterSensitiveLog=function(e){return Ls({},e)},cg.isa=function(e){return oe(e,"GetSegmentsResponse")},(lg=fg||(fg={})).filterSensitiveLog=function(e){return Ls({},e)},lg.isa=function(e){return oe(e,"GetSegmentVersionRequest")},(dg=hg||(hg={})).filterSensitiveLog=function(e){return Ls({},e)},dg.isa=function(e){return oe(e,"GetSegmentVersionResponse")},(gg=pg||(pg={})).filterSensitiveLog=function(e){return Ls({},e)},gg.isa=function(e){return oe(e,"GetSegmentVersionsRequest")},(yg=vg||(vg={})).filterSensitiveLog=function(e){return Ls({},e)},yg.isa=function(e){return oe(e,"GetSegmentVersionsResponse")},(bg=mg||(mg={})).filterSensitiveLog=function(e){return Ls({},e)},bg.isa=function(e){return oe(e,"GetSmsChannelRequest")},(wg=Sg||(Sg={})).filterSensitiveLog=function(e){return Ls({},e)},wg.isa=function(e){return oe(e,"GetSmsChannelResponse")},(Ag=_g||(_g={})).filterSensitiveLog=function(e){return Ls({},e)},Ag.isa=function(e){return oe(e,"GetSmsTemplateRequest")},(Cg=Ig||(Ig={})).filterSensitiveLog=function(e){return Ls({},e)},Cg.isa=function(e){return oe(e,"GetSmsTemplateResponse")},(Rg=Eg||(Eg={})).filterSensitiveLog=function(e){return Ls({},e)},Rg.isa=function(e){return oe(e,"GetUserEndpointsRequest")},(Pg=Tg||(Tg={})).filterSensitiveLog=function(e){return Ls({},e)},Pg.isa=function(e){return oe(e,"GetUserEndpointsResponse")},(Og=Lg||(Lg={})).filterSensitiveLog=function(e){return Ls({},e)},Og.isa=function(e){return oe(e,"GetVoiceChannelRequest")},(xg=Ug||(Ug={})).filterSensitiveLog=function(e){return Ls({},e)},xg.isa=function(e){return oe(e,"GetVoiceChannelResponse")},(Dg=kg||(kg={})).filterSensitiveLog=function(e){return Ls({},e)},Dg.isa=function(e){return oe(e,"GetVoiceTemplateRequest")},(Ng=Mg||(Mg={})).filterSensitiveLog=function(e){return Ls({},e)},Ng.isa=function(e){return oe(e,"GetVoiceTemplateResponse")},(Fg=jg||(jg={})).filterSensitiveLog=function(e){return Ls({},e)},Fg.isa=function(e){return oe(e,"GPSCoordinates")},(Bg=qg||(qg={})).filterSensitiveLog=function(e){return Ls({},e)},Bg.isa=function(e){return oe(e,"GPSPointDimension")},(zg=Vg||(Vg={})).filterSensitiveLog=function(e){return Ls({},e)},zg.isa=function(e){return oe(e,"HoldoutActivity")},(Hg=Gg||(Gg={})).filterSensitiveLog=function(e){return Ls({},e)},Hg.isa=function(e){return oe(e,"ImportJobRequest")},(Wg=Kg||(Kg={})).filterSensitiveLog=function(e){return Ls({},e)},Wg.isa=function(e){return oe(e,"ImportJobResource")},(Yg=Jg||(Jg={})).filterSensitiveLog=function(e){return Ls({},e)},Yg.isa=function(e){return oe(e,"ImportJobResponse")},(Zg=$g||($g={})).filterSensitiveLog=function(e){return Ls({},e)},Zg.isa=function(e){return oe(e,"ImportJobsResponse")},function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(Xg||(Xg={})),(ev=Qg||(Qg={})).filterSensitiveLog=function(e){return Ls({},e)},ev.isa=function(e){return oe(e,"InternalServerErrorException")},(nv=tv||(tv={})).filterSensitiveLog=function(e){return Ls({},e)},nv.isa=function(e){return oe(e,"ItemResponse")},function(e){e.COMPLETED="COMPLETED",e.COMPLETING="COMPLETING",e.CREATED="CREATED",e.FAILED="FAILED",e.FAILING="FAILING",e.INITIALIZING="INITIALIZING",e.PENDING_JOB="PENDING_JOB",e.PREPARING_FOR_INITIALIZATION="PREPARING_FOR_INITIALIZATION",e.PROCESSING="PROCESSING"}(rv||(rv={})),(ov=iv||(iv={})).filterSensitiveLog=function(e){return Ls({},e)},ov.isa=function(e){return oe(e,"JourneyCustomMessage")},(av=sv||(sv={})).filterSensitiveLog=function(e){return Ls({},e)},av.isa=function(e){return oe(e,"JourneyDateRangeKpiResponse")},(cv=uv||(uv={})).filterSensitiveLog=function(e){return Ls({},e)},cv.isa=function(e){return oe(e,"JourneyEmailMessage")},(lv=fv||(fv={})).filterSensitiveLog=function(e){return Ls({},e)},lv.isa=function(e){return oe(e,"JourneyExecutionActivityMetricsResponse")},(dv=hv||(hv={})).filterSensitiveLog=function(e){return Ls({},e)},dv.isa=function(e){return oe(e,"JourneyExecutionMetricsResponse")},(gv=pv||(pv={})).filterSensitiveLog=function(e){return Ls({},e)},gv.isa=function(e){return oe(e,"JourneyLimits")},(yv=vv||(vv={})).filterSensitiveLog=function(e){return Ls({},e)},yv.isa=function(e){return oe(e,"JourneyPushMessage")},(bv=mv||(mv={})).filterSensitiveLog=function(e){return Ls({},e)},bv.isa=function(e){return oe(e,"JourneyResponse")},(wv=Sv||(Sv={})).filterSensitiveLog=function(e){return Ls({},e)},wv.isa=function(e){return oe(e,"JourneySchedule")},(Av=_v||(_v={})).filterSensitiveLog=function(e){return Ls({},e)},Av.isa=function(e){return oe(e,"JourneySMSMessage")},(Cv=Iv||(Iv={})).filterSensitiveLog=function(e){return Ls({},e)},Cv.isa=function(e){return oe(e,"JourneysResponse")},(Rv=Ev||(Ev={})).filterSensitiveLog=function(e){return Ls({},e)},Rv.isa=function(e){return oe(e,"JourneyStateRequest")},(Pv=Tv||(Tv={})).filterSensitiveLog=function(e){return Ls({},e)},Pv.isa=function(e){return oe(e,"ListJourneysRequest")},(Ov=Lv||(Lv={})).filterSensitiveLog=function(e){return Ls({},e)},Ov.isa=function(e){return oe(e,"ListJourneysResponse")},(xv=Uv||(Uv={})).filterSensitiveLog=function(e){return Ls({},e)},xv.isa=function(e){return oe(e,"ListRecommenderConfigurationsResponse")},(Dv=kv||(kv={})).filterSensitiveLog=function(e){return Ls({},e)},Dv.isa=function(e){return oe(e,"ListTagsForResourceRequest")},function(e){e.filterSensitiveLog=function(e){return Ls({},e)},e.isa=function(e){return oe(e,"ListTagsForResourceResponse")}}(Mv||(Mv={})),(jv=Nv||(Nv={})).filterSensitiveLog=function(e){return Ls({},e)},jv.isa=function(e){return oe(e,"ListTemplatesRequest")},(qv=Fv||(Fv={})).filterSensitiveLog=function(e){return Ls({},e)},qv.isa=function(e){return oe(e,"ListTemplatesResponse")},(Vv=Bv||(Bv={})).filterSensitiveLog=function(e){return Ls({},e)},Vv.isa=function(e){return oe(e,"ListTemplateVersionsRequest")},(Gv=zv||(zv={})).filterSensitiveLog=function(e){return Ls({},e)},Gv.isa=function(e){return oe(e,"ListTemplateVersionsResponse")},(Kv=Hv||(Hv={})).filterSensitiveLog=function(e){return Ls({},e)},Kv.isa=function(e){return oe(e,"Message")},(Jv=Wv||(Wv={})).filterSensitiveLog=function(e){return Ls({},e)},Jv.isa=function(e){return oe(e,"MessageBody")},($v=Yv||(Yv={})).filterSensitiveLog=function(e){return Ls({},e)},$v.isa=function(e){return oe(e,"MessageConfiguration")},(Xv=Zv||(Zv={})).filterSensitiveLog=function(e){return Ls({},e)},Xv.isa=function(e){return oe(e,"MessageRequest")},(ey=Qv||(Qv={})).filterSensitiveLog=function(e){return Ls({},e)},ey.isa=function(e){return oe(e,"MessageResponse")},(ny=ty||(ty={})).filterSensitiveLog=function(e){return Ls({},e)},ny.isa=function(e){return oe(e,"MessageResult")},function(e){e.PROMOTIONAL="PROMOTIONAL",e.TRANSACTIONAL="TRANSACTIONAL"}(ry||(ry={})),(oy=iy||(iy={})).filterSensitiveLog=function(e){return Ls({},e)},oy.isa=function(e){return oe(e,"MethodNotAllowedException")},(ay=sy||(sy={})).filterSensitiveLog=function(e){return Ls({},e)},ay.isa=function(e){return oe(e,"MetricDimension")},function(e){e.DELIVERY="DELIVERY",e.FILTER="FILTER"}(uy||(uy={})),(fy=cy||(cy={})).filterSensitiveLog=function(e){return Ls({},e)},fy.isa=function(e){return oe(e,"MultiConditionalBranch")},(hy=ly||(ly={})).filterSensitiveLog=function(e){return Ls({},e)},hy.isa=function(e){return oe(e,"MultiConditionalSplitActivity")},(py=dy||(dy={})).filterSensitiveLog=function(e){return Ls({},e)},py.isa=function(e){return oe(e,"NotFoundException")},(vy=gy||(gy={})).filterSensitiveLog=function(e){return Ls({},e)},vy.isa=function(e){return oe(e,"NumberValidateRequest")},(my=yy||(yy={})).filterSensitiveLog=function(e){return Ls({},e)},my.isa=function(e){return oe(e,"NumberValidateResponse")},function(e){e.ALL="ALL",e.ANY="ANY"}(by||(by={})),(wy=Sy||(Sy={})).filterSensitiveLog=function(e){return Ls({},e)},wy.isa=function(e){return oe(e,"PayloadTooLargeException")},(Ay=_y||(_y={})).filterSensitiveLog=function(e){return Ls({},e)},Ay.isa=function(e){return oe(e,"PhoneNumberValidateRequest")},(Cy=Iy||(Iy={})).filterSensitiveLog=function(e){return Ls({},e)},Cy.isa=function(e){return oe(e,"PhoneNumberValidateResponse")},(Ry=Ey||(Ey={})).filterSensitiveLog=function(e){return Ls({},e)},Ry.isa=function(e){return oe(e,"PublicEndpoint")},(Py=Ty||(Ty={})).filterSensitiveLog=function(e){return Ls({},e)},Py.isa=function(e){return oe(e,"PushMessageActivity")},(Oy=Ly||(Ly={})).filterSensitiveLog=function(e){return Ls({},e)},Oy.isa=function(e){return oe(e,"PushNotificationTemplateRequest")},(xy=Uy||(Uy={})).filterSensitiveLog=function(e){return Ls({},e)},xy.isa=function(e){return oe(e,"PushNotificationTemplateResponse")},(Dy=ky||(ky={})).filterSensitiveLog=function(e){return Ls({},e)},Dy.isa=function(e){return oe(e,"PutEventsRequest")},(Ny=My||(My={})).filterSensitiveLog=function(e){return Ls({},e)},Ny.isa=function(e){return oe(e,"PutEventsResponse")},(Fy=jy||(jy={})).filterSensitiveLog=function(e){return Ls({},e)},Fy.isa=function(e){return oe(e,"PutEventStreamRequest")},(By=qy||(qy={})).filterSensitiveLog=function(e){return Ls({},e)},By.isa=function(e){return oe(e,"PutEventStreamResponse")},(zy=Vy||(Vy={})).filterSensitiveLog=function(e){return Ls({},e)},zy.isa=function(e){return oe(e,"QuietTime")},(Hy=Gy||(Gy={})).filterSensitiveLog=function(e){return Ls({},e)},Hy.isa=function(e){return oe(e,"RandomSplitActivity")},(Wy=Ky||(Ky={})).filterSensitiveLog=function(e){return Ls({},e)},Wy.isa=function(e){return oe(e,"RandomSplitEntry")},(Yy=Jy||(Jy={})).filterSensitiveLog=function(e){return Ls({},e)},Yy.isa=function(e){return oe(e,"RawEmail")},(Zy=$y||($y={})).filterSensitiveLog=function(e){return Ls({},e)},Zy.isa=function(e){return oe(e,"RecencyDimension")},function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(Xy||(Xy={})),(em=Qy||(Qy={})).filterSensitiveLog=function(e){return Ls({},e)},em.isa=function(e){return oe(e,"RecommenderConfigurationResponse")},(nm=tm||(tm={})).filterSensitiveLog=function(e){return Ls({},e)},nm.isa=function(e){return oe(e,"RemoveAttributesRequest")},(im=rm||(rm={})).filterSensitiveLog=function(e){return Ls({},e)},im.isa=function(e){return oe(e,"RemoveAttributesResponse")},(sm=om||(om={})).filterSensitiveLog=function(e){return Ls({},e)},sm.isa=function(e){return oe(e,"ResultRow")},(um=am||(am={})).filterSensitiveLog=function(e){return Ls({},e)},um.isa=function(e){return oe(e,"ResultRowValue")},(fm=cm||(cm={})).filterSensitiveLog=function(e){return Ls({},e)},fm.isa=function(e){return oe(e,"Schedule")},(hm=lm||(lm={})).filterSensitiveLog=function(e){return Ls({},e)},hm.isa=function(e){return oe(e,"SegmentBehaviors")},(pm=dm||(dm={})).filterSensitiveLog=function(e){return Ls({},e)},pm.isa=function(e){return oe(e,"SegmentCondition")},(vm=gm||(gm={})).filterSensitiveLog=function(e){return Ls({},e)},vm.isa=function(e){return oe(e,"SegmentDemographics")},(mm=ym||(ym={})).filterSensitiveLog=function(e){return Ls({},e)},mm.isa=function(e){return oe(e,"SegmentDimensions")},(Sm=bm||(bm={})).filterSensitiveLog=function(e){return Ls({},e)},Sm.isa=function(e){return oe(e,"SegmentGroup")},(_m=wm||(wm={})).filterSensitiveLog=function(e){return Ls({},e)},_m.isa=function(e){return oe(e,"SegmentGroupList")},(Im=Am||(Am={})).filterSensitiveLog=function(e){return Ls({},e)},Im.isa=function(e){return oe(e,"SegmentImportResource")},(Em=Cm||(Cm={})).filterSensitiveLog=function(e){return Ls({},e)},Em.isa=function(e){return oe(e,"SegmentLocation")},(Tm=Rm||(Rm={})).filterSensitiveLog=function(e){return Ls({},e)},Tm.isa=function(e){return oe(e,"SegmentReference")},(Lm=Pm||(Pm={})).filterSensitiveLog=function(e){return Ls({},e)},Lm.isa=function(e){return oe(e,"SegmentResponse")},(Um=Om||(Om={})).filterSensitiveLog=function(e){return Ls({},e)},Um.isa=function(e){return oe(e,"SegmentsResponse")},function(e){e.DIMENSIONAL="DIMENSIONAL",e.IMPORT="IMPORT"}(xm||(xm={})),(Dm=km||(km={})).filterSensitiveLog=function(e){return Ls({},e)},Dm.isa=function(e){return oe(e,"SendMessagesRequest")},(Nm=Mm||(Mm={})).filterSensitiveLog=function(e){return Ls({},e)},Nm.isa=function(e){return oe(e,"SendMessagesResponse")},(Fm=jm||(jm={})).filterSensitiveLog=function(e){return Ls({},e)},Fm.isa=function(e){return oe(e,"SendUsersMessageRequest")},(Bm=qm||(qm={})).filterSensitiveLog=function(e){return Ls({},e)},Bm.isa=function(e){return oe(e,"SendUsersMessageResponse")},(zm=Vm||(Vm={})).filterSensitiveLog=function(e){return Ls({},e)},zm.isa=function(e){return oe(e,"SendUsersMessagesRequest")},(Hm=Gm||(Gm={})).filterSensitiveLog=function(e){return Ls({},e)},Hm.isa=function(e){return oe(e,"SendUsersMessagesResponse")},(Wm=Km||(Km={})).filterSensitiveLog=function(e){return Ls({},e)},Wm.isa=function(e){return oe(e,"Session")},(Ym=Jm||(Jm={})).filterSensitiveLog=function(e){return Ls({},e)},Ym.isa=function(e){return oe(e,"SetDimension")},(Zm=$m||($m={})).filterSensitiveLog=function(e){return Ls({},e)},Zm.isa=function(e){return oe(e,"SimpleCondition")},(Qm=Xm||(Xm={})).filterSensitiveLog=function(e){return Ls({},e)},Qm.isa=function(e){return oe(e,"SimpleEmail")},(tb=eb||(eb={})).filterSensitiveLog=function(e){return Ls({},e)},tb.isa=function(e){return oe(e,"SimpleEmailPart")},(rb=nb||(nb={})).filterSensitiveLog=function(e){return Ls({},e)},rb.isa=function(e){return oe(e,"SMSChannelRequest")},(ob=ib||(ib={})).filterSensitiveLog=function(e){return Ls({},e)},ob.isa=function(e){return oe(e,"SMSChannelResponse")},(ab=sb||(sb={})).filterSensitiveLog=function(e){return Ls({},e)},ab.isa=function(e){return oe(e,"SMSMessage")},(cb=ub||(ub={})).filterSensitiveLog=function(e){return Ls({},e)},cb.isa=function(e){return oe(e,"SMSMessageActivity")},(lb=fb||(fb={})).filterSensitiveLog=function(e){return Ls({},e)},lb.isa=function(e){return oe(e,"SMSTemplateRequest")},(db=hb||(hb={})).filterSensitiveLog=function(e){return Ls({},e)},db.isa=function(e){return oe(e,"SMSTemplateResponse")},function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(pb||(pb={})),(vb=gb||(gb={})).filterSensitiveLog=function(e){return Ls({},e)},vb.isa=function(e){return oe(e,"StartCondition")},function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.CLOSED="CLOSED",e.COMPLETED="COMPLETED",e.DRAFT="DRAFT"}(yb||(yb={})),(bb=mb||(mb={})).filterSensitiveLog=function(e){return Ls({},e)},bb.isa=function(e){return oe(e,"TagResourceRequest")},(wb=Sb||(Sb={})).filterSensitiveLog=function(e){return Ls({},e)},wb.isa=function(e){return oe(e,"TagsModel")},(Ab=_b||(_b={})).filterSensitiveLog=function(e){return Ls({},e)},Ab.isa=function(e){return oe(e,"Template")},(Cb=Ib||(Ib={})).filterSensitiveLog=function(e){return Ls({},e)},Cb.isa=function(e){return oe(e,"TemplateActiveVersionRequest")},(Rb=Eb||(Eb={})).filterSensitiveLog=function(e){return Ls({},e)},Rb.isa=function(e){return oe(e,"TemplateConfiguration")},(Pb=Tb||(Tb={})).filterSensitiveLog=function(e){return Ls({},e)},Pb.isa=function(e){return oe(e,"TemplateResponse")},(Ob=Lb||(Lb={})).filterSensitiveLog=function(e){return Ls({},e)},Ob.isa=function(e){return oe(e,"TemplatesResponse")},function(e){e.EMAIL="EMAIL",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(Ub||(Ub={})),(kb=xb||(xb={})).filterSensitiveLog=function(e){return Ls({},e)},kb.isa=function(e){return oe(e,"TemplateVersionResponse")},(Mb=Db||(Db={})).filterSensitiveLog=function(e){return Ls({},e)},Mb.isa=function(e){return oe(e,"TemplateVersionsResponse")},function(e){e.filterSensitiveLog=function(e){return Ls({},e)},e.isa=function(e){return oe(e,"TooManyRequestsException")}}(Nb||(Nb={})),(Fb=jb||(jb={})).filterSensitiveLog=function(e){return Ls({},e)},Fb.isa=function(e){return oe(e,"TreatmentResource")},function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(qb||(qb={})),(Vb=Bb||(Bb={})).filterSensitiveLog=function(e){return Ls({},e)},Vb.isa=function(e){return oe(e,"UntagResourceRequest")},(Gb=zb||(zb={})).filterSensitiveLog=function(e){return Ls({},e)},Gb.isa=function(e){return oe(e,"UpdateAdmChannelRequest")},(Kb=Hb||(Hb={})).filterSensitiveLog=function(e){return Ls({},e)},Kb.isa=function(e){return oe(e,"UpdateAdmChannelResponse")},(Jb=Wb||(Wb={})).filterSensitiveLog=function(e){return Ls({},e)},Jb.isa=function(e){return oe(e,"UpdateApnsChannelRequest")},($b=Yb||(Yb={})).filterSensitiveLog=function(e){return Ls({},e)},$b.isa=function(e){return oe(e,"UpdateApnsChannelResponse")},(Xb=Zb||(Zb={})).filterSensitiveLog=function(e){return Ls({},e)},Xb.isa=function(e){return oe(e,"UpdateApnsSandboxChannelRequest")},(eS=Qb||(Qb={})).filterSensitiveLog=function(e){return Ls({},e)},eS.isa=function(e){return oe(e,"UpdateApnsSandboxChannelResponse")},(nS=tS||(tS={})).filterSensitiveLog=function(e){return Ls({},e)},nS.isa=function(e){return oe(e,"UpdateApnsVoipChannelRequest")},(iS=rS||(rS={})).filterSensitiveLog=function(e){return Ls({},e)},iS.isa=function(e){return oe(e,"UpdateApnsVoipChannelResponse")},(sS=oS||(oS={})).filterSensitiveLog=function(e){return Ls({},e)},sS.isa=function(e){return oe(e,"UpdateApnsVoipSandboxChannelRequest")},(uS=aS||(aS={})).filterSensitiveLog=function(e){return Ls({},e)},uS.isa=function(e){return oe(e,"UpdateApnsVoipSandboxChannelResponse")},(fS=cS||(cS={})).filterSensitiveLog=function(e){return Ls({},e)},fS.isa=function(e){return oe(e,"UpdateApplicationSettingsRequest")},(hS=lS||(lS={})).filterSensitiveLog=function(e){return Ls({},e)},hS.isa=function(e){return oe(e,"UpdateApplicationSettingsResponse")},(pS=dS||(dS={})).filterSensitiveLog=function(e){return Ls({},e)},pS.isa=function(e){return oe(e,"UpdateAttributesRequest")},(vS=gS||(gS={})).filterSensitiveLog=function(e){return Ls({},e)},vS.isa=function(e){return oe(e,"UpdateBaiduChannelRequest")},(mS=yS||(yS={})).filterSensitiveLog=function(e){return Ls({},e)},mS.isa=function(e){return oe(e,"UpdateBaiduChannelResponse")},(SS=bS||(bS={})).filterSensitiveLog=function(e){return Ls({},e)},SS.isa=function(e){return oe(e,"UpdateCampaignRequest")},(_S=wS||(wS={})).filterSensitiveLog=function(e){return Ls({},e)},_S.isa=function(e){return oe(e,"UpdateCampaignResponse")},(IS=AS||(AS={})).filterSensitiveLog=function(e){return Ls({},e)},IS.isa=function(e){return oe(e,"UpdateEmailChannelRequest")},(ES=CS||(CS={})).filterSensitiveLog=function(e){return Ls({},e)},ES.isa=function(e){return oe(e,"UpdateEmailChannelResponse")},(TS=RS||(RS={})).filterSensitiveLog=function(e){return Ls({},e)},TS.isa=function(e){return oe(e,"UpdateEmailTemplateRequest")},(LS=PS||(PS={})).filterSensitiveLog=function(e){return Ls({},e)},LS.isa=function(e){return oe(e,"UpdateEmailTemplateResponse")},(US=OS||(OS={})).filterSensitiveLog=function(e){return Ls({},e)},US.isa=function(e){return oe(e,"UpdateEndpointRequest")},(kS=xS||(xS={})).filterSensitiveLog=function(e){return Ls({},e)},kS.isa=function(e){return oe(e,"UpdateEndpointResponse")},(MS=DS||(DS={})).filterSensitiveLog=function(e){return Ls({},e)},MS.isa=function(e){return oe(e,"UpdateEndpointsBatchRequest")},(jS=NS||(NS={})).filterSensitiveLog=function(e){return Ls({},e)},jS.isa=function(e){return oe(e,"UpdateEndpointsBatchResponse")},(qS=FS||(FS={})).filterSensitiveLog=function(e){return Ls({},e)},qS.isa=function(e){return oe(e,"UpdateGcmChannelRequest")},(VS=BS||(BS={})).filterSensitiveLog=function(e){return Ls({},e)},VS.isa=function(e){return oe(e,"UpdateGcmChannelResponse")},(GS=zS||(zS={})).filterSensitiveLog=function(e){return Ls({},e)},GS.isa=function(e){return oe(e,"UpdateJourneyRequest")},(KS=HS||(HS={})).filterSensitiveLog=function(e){return Ls({},e)},KS.isa=function(e){return oe(e,"UpdateJourneyResponse")},(JS=WS||(WS={})).filterSensitiveLog=function(e){return Ls({},e)},JS.isa=function(e){return oe(e,"UpdateJourneyStateRequest")},($S=YS||(YS={})).filterSensitiveLog=function(e){return Ls({},e)},$S.isa=function(e){return oe(e,"UpdateJourneyStateResponse")},(XS=ZS||(ZS={})).filterSensitiveLog=function(e){return Ls({},e)},XS.isa=function(e){return oe(e,"UpdatePushTemplateRequest")},(ew=QS||(QS={})).filterSensitiveLog=function(e){return Ls({},e)},ew.isa=function(e){return oe(e,"UpdatePushTemplateResponse")},(nw=tw||(tw={})).filterSensitiveLog=function(e){return Ls({},e)},nw.isa=function(e){return oe(e,"UpdateRecommenderConfigurationRequest")},(iw=rw||(rw={})).filterSensitiveLog=function(e){return Ls({},e)},iw.isa=function(e){return oe(e,"UpdateRecommenderConfigurationResponse")},(sw=ow||(ow={})).filterSensitiveLog=function(e){return Ls({},e)},sw.isa=function(e){return oe(e,"UpdateRecommenderConfigurationShape")},(uw=aw||(aw={})).filterSensitiveLog=function(e){return Ls({},e)},uw.isa=function(e){return oe(e,"UpdateSegmentRequest")},(fw=cw||(cw={})).filterSensitiveLog=function(e){return Ls({},e)},fw.isa=function(e){return oe(e,"UpdateSegmentResponse")},(hw=lw||(lw={})).filterSensitiveLog=function(e){return Ls({},e)},hw.isa=function(e){return oe(e,"UpdateSmsChannelRequest")},(pw=dw||(dw={})).filterSensitiveLog=function(e){return Ls({},e)},pw.isa=function(e){return oe(e,"UpdateSmsChannelResponse")},(vw=gw||(gw={})).filterSensitiveLog=function(e){return Ls({},e)},vw.isa=function(e){return oe(e,"UpdateSmsTemplateRequest")},(mw=yw||(yw={})).filterSensitiveLog=function(e){return Ls({},e)},mw.isa=function(e){return oe(e,"UpdateSmsTemplateResponse")},(Sw=bw||(bw={})).filterSensitiveLog=function(e){return Ls({},e)},Sw.isa=function(e){return oe(e,"UpdateTemplateActiveVersionRequest")},(_w=ww||(ww={})).filterSensitiveLog=function(e){return Ls({},e)},_w.isa=function(e){return oe(e,"UpdateTemplateActiveVersionResponse")},(Iw=Aw||(Aw={})).filterSensitiveLog=function(e){return Ls({},e)},Iw.isa=function(e){return oe(e,"UpdateVoiceChannelRequest")},(Ew=Cw||(Cw={})).filterSensitiveLog=function(e){return Ls({},e)},Ew.isa=function(e){return oe(e,"UpdateVoiceChannelResponse")},(Tw=Rw||(Rw={})).filterSensitiveLog=function(e){return Ls({},e)},Tw.isa=function(e){return oe(e,"UpdateVoiceTemplateRequest")},(Lw=Pw||(Pw={})).filterSensitiveLog=function(e){return Ls({},e)},Lw.isa=function(e){return oe(e,"UpdateVoiceTemplateResponse")},(Uw=Ow||(Ow={})).filterSensitiveLog=function(e){return Ls({},e)},Uw.isa=function(e){return oe(e,"VoiceChannelRequest")},(kw=xw||(xw={})).filterSensitiveLog=function(e){return Ls({},e)},kw.isa=function(e){return oe(e,"VoiceChannelResponse")},(Mw=Dw||(Dw={})).filterSensitiveLog=function(e){return Ls({},e)},Mw.isa=function(e){return oe(e,"VoiceMessage")},(jw=Nw||(Nw={})).filterSensitiveLog=function(e){return Ls({},e)},jw.isa=function(e){return oe(e,"VoiceTemplateRequest")},(qw=Fw||(Fw={})).filterSensitiveLog=function(e){return Ls({},e)},qw.isa=function(e){return oe(e,"VoiceTemplateResponse")},(Vw=Bw||(Bw={})).filterSensitiveLog=function(e){return Ls({},e)},Vw.isa=function(e){return oe(e,"WaitActivity")},(Gw=zw||(zw={})).filterSensitiveLog=function(e){return Ls({},e)},Gw.isa=function(e){return oe(e,"WaitTime")},(Kw=Hw||(Hw={})).filterSensitiveLog=function(e){return Ls({},e)},Kw.isa=function(e){return oe(e,"WriteApplicationSettingsRequest")},(Jw=Ww||(Ww={})).filterSensitiveLog=function(e){return Ls({},e)},Jw.isa=function(e){return oe(e,"WriteCampaignRequest")},($w=Yw||(Yw={})).filterSensitiveLog=function(e){return Ls({},e)},$w.isa=function(e){return oe(e,"WriteEventStream")},(Xw=Zw||(Zw={})).filterSensitiveLog=function(e){return Ls({},e)},Xw.isa=function(e){return oe(e,"WriteJourneyRequest")},(e_=Qw||(Qw={})).filterSensitiveLog=function(e){return Ls({},e)},e_.isa=function(e){return oe(e,"WriteSegmentRequest")},(n_=t_||(t_={})).filterSensitiveLog=function(e){return Ls({},e)},n_.isa=function(e){return oe(e,"WriteTreatmentResource")};var r_=function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g;return Us(this,(function(v){switch(v.label){case 0:return r=[Ls({},e)],g={},[4,V_(e.body,t)];case 1:switch(n=Ls.apply(void 0,r.concat([(g.body=v.sent(),g)])),o="UnknownError",o=z_(e,n.body),o){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return s=[{}],[4,s_(n,t)];case 3:return i=Ls.apply(void 0,[Ls.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 4:return a=[{}],[4,a_(n,t)];case 5:return i=Ls.apply(void 0,[Ls.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 6:return u=[{}],[4,u_(n,t)];case 7:return i=Ls.apply(void 0,[Ls.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 8:return c=[{}],[4,c_(n,t)];case 9:return i=Ls.apply(void 0,[Ls.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 10:return f=[{}],[4,f_(n,t)];case 11:return i=Ls.apply(void 0,[Ls.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 12:return l=[{}],[4,l_(n,t)];case 13:return i=Ls.apply(void 0,[Ls.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 14:return h=[{}],[4,h_(n,t)];case 15:return i=Ls.apply(void 0,[Ls.apply(void 0,h.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 16:d=n.body,o=d.code||d.Code||o,i=Ls(Ls({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:q_(e)}),v.label=17;case 17:return p=i.message||i.Message||o,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},i_=function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g;return Us(this,(function(v){switch(v.label){case 0:return r=[Ls({},e)],g={},[4,V_(e.body,t)];case 1:switch(n=Ls.apply(void 0,r.concat([(g.body=v.sent(),g)])),o="UnknownError",o=z_(e,n.body),o){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return s=[{}],[4,s_(n,t)];case 3:return i=Ls.apply(void 0,[Ls.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 4:return a=[{}],[4,a_(n,t)];case 5:return i=Ls.apply(void 0,[Ls.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 6:return u=[{}],[4,u_(n,t)];case 7:return i=Ls.apply(void 0,[Ls.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 8:return c=[{}],[4,c_(n,t)];case 9:return i=Ls.apply(void 0,[Ls.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 10:return f=[{}],[4,f_(n,t)];case 11:return i=Ls.apply(void 0,[Ls.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 12:return l=[{}],[4,l_(n,t)];case 13:return i=Ls.apply(void 0,[Ls.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 14:return h=[{}],[4,h_(n,t)];case 15:return i=Ls.apply(void 0,[Ls.apply(void 0,h.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 16:d=n.body,o=d.code||d.Code||o,i=Ls(Ls({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:q_(e)}),v.label=17;case 17:return p=i.message||i.Message||o,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},o_=function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d,p,g;return Us(this,(function(v){switch(v.label){case 0:return r=[Ls({},e)],g={},[4,V_(e.body,t)];case 1:switch(n=Ls.apply(void 0,r.concat([(g.body=v.sent(),g)])),o="UnknownError",o=z_(e,n.body),o){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return s=[{}],[4,s_(n,t)];case 3:return i=Ls.apply(void 0,[Ls.apply(void 0,s.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 4:return a=[{}],[4,a_(n,t)];case 5:return i=Ls.apply(void 0,[Ls.apply(void 0,a.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 6:return u=[{}],[4,u_(n,t)];case 7:return i=Ls.apply(void 0,[Ls.apply(void 0,u.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 8:return c=[{}],[4,c_(n,t)];case 9:return i=Ls.apply(void 0,[Ls.apply(void 0,c.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 10:return f=[{}],[4,f_(n,t)];case 11:return i=Ls.apply(void 0,[Ls.apply(void 0,f.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 12:return l=[{}],[4,l_(n,t)];case 13:return i=Ls.apply(void 0,[Ls.apply(void 0,l.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 14:return h=[{}],[4,h_(n,t)];case 15:return i=Ls.apply(void 0,[Ls.apply(void 0,h.concat([v.sent()])),{name:o,$metadata:q_(e)}]),[3,17];case 16:d=n.body,o=d.code||d.Code||o,i=Ls(Ls({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:q_(e)}),v.label=17;case 17:return p=i.message||i.Message||o,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}}))}))},s_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},a_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"ForbiddenException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},u_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"InternalServerErrorException",$fault:"server",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},c_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"MethodNotAllowedException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},f_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},l_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"PayloadTooLargeException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},h_=function(e,t){return Os(void 0,void 0,void 0,(function(){var t,n;return Us(this,(function(r){return t={name:"TooManyRequestsException",$fault:"client",$metadata:q_(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},d_=function(e,t){return Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls({},void 0!==e.AppVersion&&{AppVersion:e.AppVersion}),void 0!==e.Locale&&{Locale:e.Locale}),void 0!==e.Make&&{Make:e.Make}),void 0!==e.Model&&{Model:e.Model}),void 0!==e.ModelVersion&&{ModelVersion:e.ModelVersion}),void 0!==e.Platform&&{Platform:e.Platform}),void 0!==e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),void 0!==e.Timezone&&{Timezone:e.Timezone})},p_=function(e,t){return Ls(Ls(Ls(Ls(Ls(Ls({},void 0!==e.City&&{City:e.City}),void 0!==e.Country&&{Country:e.Country}),void 0!==e.Latitude&&{Latitude:e.Latitude}),void 0!==e.Longitude&&{Longitude:e.Longitude}),void 0!==e.PostalCode&&{PostalCode:e.PostalCode}),void 0!==e.Region&&{Region:e.Region})},g_=function(e,t){return Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls({},void 0!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&{Attributes:A_(e.Attributes,t)}),void 0!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&{Demographic:d_(e.Demographic,t)}),void 0!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&{Location:p_(e.Location,t)}),void 0!==e.Metrics&&{Metrics:b_(e.Metrics,t)}),void 0!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&{User:v_(e.User,t)})},v_=function(e,t){return Ls(Ls({},void 0!==e.UserAttributes&&{UserAttributes:A_(e.UserAttributes,t)}),void 0!==e.UserId&&{UserId:e.UserId})},y_=function(e,t){return Ls({},void 0!==e.BatchItem&&{BatchItem:__(e.BatchItem,t)})},m_=function(e,t){return e.map((function(e){return e}))},b_=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=xs(t,2),i=r[0],o=r[1];return Ls(Ls({},e),((n={})[i]=o,n))}),{})},S_=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=xs(t,2),i=r[0],o=r[1];return Ls(Ls({},e),((n={})[i]=o,n))}),{})},w_=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=xs(n,2),o=i[0],s=i[1];return Ls(Ls({},e),((r={})[o]=function(e,t){return Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls({},void 0!==e.AppPackageName&&{AppPackageName:e.AppPackageName}),void 0!==e.AppTitle&&{AppTitle:e.AppTitle}),void 0!==e.AppVersionCode&&{AppVersionCode:e.AppVersionCode}),void 0!==e.Attributes&&{Attributes:S_(e.Attributes,t)}),void 0!==e.ClientSdkVersion&&{ClientSdkVersion:e.ClientSdkVersion}),void 0!==e.EventType&&{EventType:e.EventType}),void 0!==e.Metrics&&{Metrics:b_(e.Metrics,t)}),void 0!==e.SdkName&&{SdkName:e.SdkName}),void 0!==e.Session&&{Session:C_(e.Session,t)}),void 0!==e.Timestamp&&{Timestamp:e.Timestamp})}(s,t),r))}),{})},__=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=xs(n,2),o=i[0],s=i[1];return Ls(Ls({},e),((r={})[o]=function(e,t){return Ls(Ls({},void 0!==e.Endpoint&&{Endpoint:I_(e.Endpoint,t)}),void 0!==e.Events&&{Events:w_(e.Events,t)})}(s,t),r))}),{})},A_=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=xs(n,2),o=i[0],s=i[1];return Ls(Ls({},e),((r={})[o]=m_(s,t),r))}),{})},I_=function(e,t){return Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls(Ls({},void 0!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&{Attributes:A_(e.Attributes,t)}),void 0!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&{Demographic:d_(e.Demographic,t)}),void 0!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&{Location:p_(e.Location,t)}),void 0!==e.Metrics&&{Metrics:b_(e.Metrics,t)}),void 0!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&{User:v_(e.User,t)})},C_=function(e,t){return Ls(Ls(Ls(Ls({},void 0!==e.Duration&&{Duration:e.Duration}),void 0!==e.Id&&{Id:e.Id}),void 0!==e.StartTimestamp&&{StartTimestamp:e.StartTimestamp}),void 0!==e.StopTimestamp&&{StopTimestamp:e.StopTimestamp})},E_=function(e,t){return{__type:"EndpointDemographic",AppVersion:void 0!==e.AppVersion&&null!==e.AppVersion?e.AppVersion:void 0,Locale:void 0!==e.Locale&&null!==e.Locale?e.Locale:void 0,Make:void 0!==e.Make&&null!==e.Make?e.Make:void 0,Model:void 0!==e.Model&&null!==e.Model?e.Model:void 0,ModelVersion:void 0!==e.ModelVersion&&null!==e.ModelVersion?e.ModelVersion:void 0,Platform:void 0!==e.Platform&&null!==e.Platform?e.Platform:void 0,PlatformVersion:void 0!==e.PlatformVersion&&null!==e.PlatformVersion?e.PlatformVersion:void 0,Timezone:void 0!==e.Timezone&&null!==e.Timezone?e.Timezone:void 0}},R_=function(e,t){return{__type:"EndpointItemResponse",Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}},T_=function(e,t){return{__type:"EndpointLocation",City:void 0!==e.City&&null!==e.City?e.City:void 0,Country:void 0!==e.Country&&null!==e.Country?e.Country:void 0,Latitude:void 0!==e.Latitude&&null!==e.Latitude?e.Latitude:void 0,Longitude:void 0!==e.Longitude&&null!==e.Longitude?e.Longitude:void 0,PostalCode:void 0!==e.PostalCode&&null!==e.PostalCode?e.PostalCode:void 0,Region:void 0!==e.Region&&null!==e.Region?e.Region:void 0}},P_=function(e,t){return{__type:"EndpointResponse",Address:void 0!==e.Address&&null!==e.Address?e.Address:void 0,ApplicationId:void 0!==e.ApplicationId&&null!==e.ApplicationId?e.ApplicationId:void 0,Attributes:void 0!==e.Attributes&&null!==e.Attributes?j_(e.Attributes,t):void 0,ChannelType:void 0!==e.ChannelType&&null!==e.ChannelType?e.ChannelType:void 0,CohortId:void 0!==e.CohortId&&null!==e.CohortId?e.CohortId:void 0,CreationDate:void 0!==e.CreationDate&&null!==e.CreationDate?e.CreationDate:void 0,Demographic:void 0!==e.Demographic&&null!==e.Demographic?E_(e.Demographic):void 0,EffectiveDate:void 0!==e.EffectiveDate&&null!==e.EffectiveDate?e.EffectiveDate:void 0,EndpointStatus:void 0!==e.EndpointStatus&&null!==e.EndpointStatus?e.EndpointStatus:void 0,Id:void 0!==e.Id&&null!==e.Id?e.Id:void 0,Location:void 0!==e.Location&&null!==e.Location?T_(e.Location):void 0,Metrics:void 0!==e.Metrics&&null!==e.Metrics?D_(e.Metrics,t):void 0,OptOut:void 0!==e.OptOut&&null!==e.OptOut?e.OptOut:void 0,RequestId:void 0!==e.RequestId&&null!==e.RequestId?e.RequestId:void 0,User:void 0!==e.User&&null!==e.User?O_(e.User,t):void 0}},L_=function(e,t){return{__type:"EndpointsResponse",Item:void 0!==e.Item&&null!==e.Item?k_(e.Item,t):void 0}},O_=function(e,t){return{__type:"EndpointUser",UserAttributes:void 0!==e.UserAttributes&&null!==e.UserAttributes?j_(e.UserAttributes,t):void 0,UserId:void 0!==e.UserId&&null!==e.UserId?e.UserId:void 0}},U_=function(e,t){return{__type:"EventsResponse",Results:void 0!==e.Results&&null!==e.Results?N_(e.Results,t):void 0}},x_=function(e,t){return(e||[]).map((function(e){return e}))},k_=function(e,t){return(e||[]).map((function(e){return P_(e,t)}))},D_=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=xs(t,2),i=r[0],o=r[1];return Ls(Ls({},e),((n={})[i]=o,n))}),{})},M_=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=xs(t,2),i=r[0],o=r[1];return Ls(Ls({},e),((n={})[i]=function(e,t){return{__type:"EventItemResponse",Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}}(o),n))}),{})},N_=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=xs(n,2),o=i[0],s=i[1];return Ls(Ls({},e),((r={})[o]=function(e,t){return{__type:"ItemResponse",EndpointItemResponse:void 0!==e.EndpointItemResponse&&null!==e.EndpointItemResponse?R_(e.EndpointItemResponse):void 0,EventsItemResponse:void 0!==e.EventsItemResponse&&null!==e.EventsItemResponse?M_(e.EventsItemResponse,t):void 0}}(s,t),r))}),{})},j_=function(e,t){return Object.entries(e).reduce((function(e,n){var r,i=xs(n,2),o=i[0],s=i[1];return Ls(Ls({},e),((r={})[o]=x_(s,t),r))}),{})},F_=function(e,t){return{__type:"MessageBody",Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,RequestID:void 0!==e.RequestID&&null!==e.RequestID?e.RequestID:void 0}},q_=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},B_=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},V_=function(e,t){return function(e,t){return B_(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},z_=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},G_=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ps(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Gn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,inputFilterSensitiveLog:ky.filterSensitiveLog,outputFilterSensitiveLog:My.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f;return Us(this,(function(l){switch(l.label){case 0:if(n={"Content-Type":"application/json"},r="/v1/apps/{ApplicationId}/events",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((i=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");return r=r.replace("{ApplicationId}",ie(i)),void 0!==e.EventsRequest&&(o=y_(e.EventsRequest,t)),void 0===o&&(o={}),o=JSON.stringify(o),[4,t.endpoint()];case 1:return s=l.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,f=s.port,[2,new ln({protocol:c,hostname:a,port:f,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r;return Us(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=400?[2,i_(e,t)]:(n={$metadata:q_(e),__type:"PutEventsResponse",EventsResponse:void 0},[4,V_(e.body,t)]);case 1:return r=i.sent(),n.EventsResponse=U_(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(re),H_=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ps(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Gn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,inputFilterSensitiveLog:OS.filterSensitiveLog,outputFilterSensitiveLog:xS.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f;return Us(this,(function(l){switch(l.label){case 0:if(n={"Content-Type":"application/json"},r="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((i=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",ie(i)),void 0===e.EndpointId)throw new Error("No value provided for input HTTP label: EndpointId.");if((i=e.EndpointId).length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");return r=r.replace("{EndpointId}",ie(i)),void 0!==e.EndpointRequest&&(o=g_(e.EndpointRequest,t)),void 0===o&&(o={}),o=JSON.stringify(o),[4,t.endpoint()];case 1:return s=l.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,f=s.port,[2,new ln({protocol:c,hostname:a,port:f,method:"PUT",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r;return Us(this,(function(i){switch(i.label){case 0:return 202!==e.statusCode&&e.statusCode>=400?[2,o_(e,t)]:(n={$metadata:q_(e),__type:"UpdateEndpointResponse",MessageBody:void 0},[4,V_(e.body,t)]);case 1:return r=i.sent(),n.MessageBody=F_(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(re),K_=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Ps(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Gn(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,inputFilterSensitiveLog:Eg.filterSensitiveLog,outputFilterSensitiveLog:Tg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Us(this,(function(f){switch(f.label){case 0:if(n={"Content-Type":""},r="/v1/apps/{ApplicationId}/users/{UserId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((i=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",ie(i)),void 0===e.UserId)throw new Error("No value provided for input HTTP label: UserId.");if((i=e.UserId).length<=0)throw new Error("Empty value provided for input HTTP label: UserId.");return r=r.replace("{UserId}",ie(i)),[4,t.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,[2,new ln({protocol:u,hostname:s,port:c,method:"GET",headers:n,path:r,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Os(void 0,void 0,void 0,(function(){var n,r;return Us(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,r_(e,t)]:(n={$metadata:q_(e),__type:"GetUserEndpointsResponse",EndpointsResponse:void 0},[4,V_(e.body,t)]);case 1:return r=i.sent(),n.EndpointsResponse=L_(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(re),W_=n(20);var J_=new Set(["ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Y_=new Set(["cn-north-1","cn-northwest-1"]),$_=new Set(["us-iso-east-1"]),Z_=new Set(["us-isob-east-1"]),X_=new Set(["us-gov-east-1","us-gov-west-1"]),Q_=Ls(Ls({},{apiVersion:"2016-12-01",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;default:J_.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),Y_.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),$_.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Z_.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),X_.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve(n)},signingName:"mobiletargeting"}),{runtime:"browser",base64Decoder:lr,base64Encoder:hr,bodyLengthChecker:Lr,credentialDefaultProvider:gr("Credential is missing"),defaultUserAgent:Or(W_.a,W_.b),maxAttempts:3,region:gr("Region is missing"),requestHandler:new rr,sha256:er.Sha256,streamCollector:dr,urlParser:Pr,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),eA=function(e){function t(t){var n,r=this,i=Ls(Ls({},Q_),t),o=Vr(i),s=bi(Fr(o)),a=Rr(s);return(r=e.call(this,a)||this).config=a,r.middlewareStack.use((n=r.config,{applyToStack:function(e){e.addRelativeTo(_i(n),Ai)}})),r.middlewareStack.use(yr(r.config)),r.middlewareStack.use(Ci(r.config)),r.middlewareStack.use(Hr(r.config)),r.middlewareStack.use(Wr(r.config)),r.middlewareStack.use(Yr(r.config)),r}return Ps(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(ne),tA={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new b).getStorage()};function nA(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function rA(){return(new Date).getTime()}function iA(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var oA={},sA=(function(){function e(){}e.clear=function(){oA={}},e.getItem=function(e){return oA[e]||null},e.setItem=function(e,t){oA[e]=t},e.removeItem=function(e){delete oA[e]}}(),new f("StorageCache")),aA=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){iA(this.config.capacityInBytes)||(sA.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=tA.capacityInBytes),iA(this.config.itemMaxSize)||(sA.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=tA.itemMaxSize),iA(this.config.defaultTTL)||(sA.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=tA.defaultTTL),iA(this.config.defaultPriority)||(sA.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=tA.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(sA.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=tA.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(sA.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=tA.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(sA.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=tA.warningThreshold);this.config.capacityInBytes>5242880&&(sA.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=tA.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:rA(),visitedTime:rA(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=nA(JSON.stringify(r)),r.byteSize=nA(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&sA.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),uA=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cA=new f("Cache"),fA=new(function(e){function t(t){var n=this,r=t?Object.assign({},tA,t):tA;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return uA(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=rA(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return rA()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),cA.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){cA.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+rA()};if(i.priority<1||i.priority>5)cA.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)cA.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(r,o)}catch(e){cA.warn("setItem failed! "+e)}}}else cA.warn("The value of item should not be undefined!");else cA.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){cA.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return cA.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return cA.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){cA.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){cA.warn("removeItem failed! "+e)}},t.prototype.clear=function(){cA.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){cA.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==tA.keyPrefix||(cA.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=rA.toString()),new t(e)},t}(aA)),lA=fA;H.register(fA);var hA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},dA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},gA=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pA(arguments[t]));return e},vA=new f("EventsBuffer"),yA=[429,500],mA=[202],bA=function(){function e(e,t){this._pause=!1,this._flush=!1,vA.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer>this._config.bufferSize)return vA.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return hA(this,void 0,void 0,(function(){var t,n,r,i,o;return dA(this,(function(s){switch(s.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),s.label=1;case 1:return s.trys.push([1,3,,4]),r=new G_(n),[4,this._client.send(r)];case 2:return i=s.sent(),this._processPutEventsSuccessResponse(i,t),[3,4];case 3:return o=s.sent(),[2,this._handlePutEventsFailure(o,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,i=n.timestamp,o=n.config,s=r.name,a=r.attributes,u=r.metrics,c=r.eventId,f=r.session,l=o.appId,h=o.endpointId,d=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||l,d[h]||(d[h]={Endpoint:{},Events:{}}),d[h].Events[c]={EventType:s,Timestamp:new Date(i).toISOString(),Attributes:a,Metrics:u,Session:f}})),t},e.prototype._handlePutEventsFailure=function(e,t){vA.debug("_putEvents Failed: ",e);var n=e.$metadata&&e.$metadata.httpStatusCode;if(yA.includes(n)){var r=Object.values(t);this._retry(r)}else;},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=pA(e,2),i=n[0],o=n[1].EventsItemResponse;Object.entries(o).forEach((function(e){var n,o,s=pA(e,2),a=s[0],u=s[1],c=u.StatusCode,f=u.Message,l=t[a],h={EventsResponse:{Results:(n={},n[i]={EventsItemResponse:(o={},o[a]={StatusCode:c,Message:f},o)},n)}};if(mA.includes(c))l.handlers.resolve(h);else{if(!yA.includes(c)){var d=l.params.event.name;return vA.error("event "+a+" : "+d+" failed with error: "+f),l.handlers.reject(h)}r.push(l)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,i=r.event,o=i.eventId,s=i.name;if(r.resendLimit-- >0)return vA.debug("resending event "+o+" : "+s+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[o]=e,t));vA.debug("no retry attempts remaining for event "+o+" : "+s)})),(t=this._buffer).unshift.apply(t,gA(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=pA(Object.entries(t),1),r=pA(n[0],2),i=r[0],o=r[1];return e[i]=o,e}),{})},e}(),SA=function(){return(SA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_A=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},AA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},IA="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",CA=function(e,t){v.dispatch("analytics",{event:e,data:t},"Analytics",IA)},EA=new f("AWSPinpointProvider"),RA=[429,500],TA=[202],PA="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,LA=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=ls.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;EA.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._config.appId&&!this._config.disabled)if(this._config.endpointId)CA("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){EA.debug("setting endpoint id from the cache",e),t._config.endpointId=e,CA("pinpointProvider_configured",null)})).catch((function(e){EA.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return wA(this,void 0,void 0,(function(){var n,r;return _A(this,(function(i){switch(i.label){case 0:return EA.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=i.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=Object(Ar.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(EA.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return wA(this,void 0,void 0,(function(){var t;return _A(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){"_update_endpoint"!==e.event.name?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||Object(Ar.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=Object(Ar.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case"_session.stop":var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||Object(Ar.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||Object(Ar.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return wA(this,void 0,void 0,(function(){return _A(this,(function(n){switch(e.event.name){case"_update_endpoint":return[2,this._updateEndpoint({params:e,handlers:t})];case"_session.stop":return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,i=e.config,o=n.name,s=n.attributes,a=n.metrics,u=n.eventId,c=n.session,f=i.appId,l=i.endpointId,h={ApplicationId:f,EventsRequest:{BatchItem:{}}},d={Endpoint:{}};return d.Events=((t={})[u]={EventType:o,Timestamp:new Date(r).toISOString(),Attributes:s,Metrics:a,Session:c},t),h.EventsRequest.BatchItem[l]=d,h},e.prototype._pinpointPutEvents=function(e,t){return wA(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h;return _A(this,(function(d){switch(d.label){case 0:n=e.event.eventId,r=e.config.endpointId,i=this._generateBatchItemContext(e),o=new G_(i),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.pinpointClient.send(o)];case 2:return s=d.sent(),a=r,u=n,c=s.EventsResponse.Results[a].EventsItemResponse[u],f=c.StatusCode,l=c.Message,TA.includes(f)?(EA.debug("record event success. ",s),[2,t.resolve(s)]):RA.includes(f)?(this._retry(e,t),[3,4]):(EA.error("Event "+n+" is not accepted, the error is "+l),[2,t.reject(s)]);case 3:return h=d.sent(),this._eventError(h),[2,t.reject(h)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(PA){var n=this._generateBatchItemContext(e),r=this._config.region,i=n.ApplicationId,o=n.EventsRequest,s={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},a="https://pinpoint."+r+".amazonaws.com/v1/apps/"+i+"/events/legacy",u=JSON.stringify(o),c={url:a,body:u,method:"POST"},f={region:r,service:"mobiletargeting"},l=Rs.signUrl(c,s,f,null);return navigator.sendBeacon(l,u)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(EA.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):EA.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return wA(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,f,l,h;return _A(this,(function(d){switch(d.label){case 0:t=e.params,n=e.handlers,r=t.config,i=t.event,o=r.appId,s=r.endpointId,a=this._endpointRequest(r,S.a.transferKeyToLowerCase(i,[],["attributes","userAttributes","Attributes","UserAttributes"])),u={ApplicationId:o,EndpointId:s,EndpointRequest:a},d.label=1;case 1:return d.trys.push([1,3,,4]),c=new H_(u),[4,this.pinpointClient.send(c)];case 2:return f=d.sent(),EA.debug("updateEndpoint success",f),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(f),[2];case 3:return l=d.sent(),h={err:l,update_params:u,endpointObject:e},[2,this._handleEndpointUpdateFailure(h)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return wA(this,void 0,void 0,(function(){var t,n,r;return _A(this,(function(i){switch(t=e.err,n=e.endpointObject,r=t.$metadata&&t.$metadata.httpStatusCode,EA.debug("updateEndpoint failed",t),r){case 400:return[2,this._handleEndpointUpdateBadRequest(e)];case 403:return[2,this._handleEndpointUpdateForbidden(e)];default:if(RA.includes(r))return!0,[2,this._retryEndpointUpdate(n,!0)];n.handlers.reject(t)}return[2]}))}))},e.prototype._handleEndpointUpdateBadRequest=function(e){return wA(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return _A(this,(function(u){switch(u.label){case 0:if(t=e.err,n=e.update_params,r=e.endpointObject,i=t.message,o=n.ApplicationId,s=n.EndpointRequest,!String(i).startsWith("Exceeded maximum endpoint per user count"))return[2,r.handlers.reject(t)];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this._removeUnusedEndpoints(o,s.User.UserId)];case 2:return u.sent(),EA.debug("Removed unused endpoints successfully"),this._retryEndpointUpdate(r),[3,4];case 3:return a=u.sent(),EA.warn("Failed to remove unused endpoints with error: "+a),EA.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:GetUserEndpoints" in order to get endpoints info of the user'),[2,r.handlers.reject(a)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,i=t.retryable;if("ExpiredTokenException"!==r&&!i)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),EA.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return EA.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));EA.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&EA.error("Initial endpoint update failed. ")},e.prototype._removeUnusedEndpoints=function(e,t){return wA(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,f,l,h,d;return _A(this,(function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),n=new K_({ApplicationId:e,UserId:t}),[4,this.pinpointClient.send(n)];case 1:for(r=p.sent(),i=r.EndpointsResponse.Item,EA.debug("get endpoints associated with the userId: "+t+" with data",i),o=i[0],s=1;s<i.length&&(a=Date.parse(o.EffectiveDate),u=Date.parse(i[s].EffectiveDate),!isNaN(a));s++){if(isNaN(u)){o=i[s];break}u<a&&(o=i[s])}c={ApplicationId:e,EndpointId:o.Id,EndpointRequest:{User:{UserId:""}}},p.label=2;case 2:return p.trys.push([2,4,,5]),f=new H_(c),[4,this.pinpointClient.send(f)];case 3:return l=p.sent(),EA.debug("The old endpoint is updated with an empty string for user id"),[2,l];case 4:throw h=p.sent(),EA.debug("Failed to update the endpoint",h),h;case 5:return[3,7];case 6:throw d=p.sent(),EA.debug("Failed to get endpoints associated with the userId: "+t+" with error",d),d;case 7:return[2]}}))}))},e.prototype._initClients=function(e){return wA(this,void 0,void 0,(function(){var t,n;return _A(this,(function(r){return EA.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(EA.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,EA.debug("init clients with credentials",e),this.pinpointClient=new eA({region:n,credentials:e,customUserAgent:V()}),this.pinpointClient.middlewareStack.addRelativeTo((function(e){return function(t){return delete t.request.headers["amz-sdk-invocation-id"],delete t.request.headers["amz-sdk-request"],e(t)}}),{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof bA},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new bA(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return wA(this,void 0,void 0,(function(){var t;return _A(this,(function(n){switch(n.label){case 0:return[4,lA.getItem(e)];case 1:return t=n.sent(),EA.debug("endpointId from cache",t,"type",typeof t),t||(t=Object(Ar.v1)(),lA.setItem(e,t)),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,r=this._clientInfo||{},i=e.clientContext||{},o=e.endpoint||{},s={appVersion:r.appVersion,make:r.make,model:r.model,modelVersion:r.version,platform:r.platform},a=(i.clientId,i.appTitle,i.appVersionName,i.appVersionCode,i.appPackageName,AA(i,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),u=t.address?"android"===r.platform?"GCM":"APNS":void 0,c=SA(SA(SA({channelType:u,requestId:Object(Ar.v1)(),effectiveDate:(new Date).toISOString()},o),t),{attributes:SA(SA({},o.attributes),t.attributes),demographic:SA(SA(SA(SA({},s),a),o.demographic),t.demographic),location:SA(SA({},o.location),t.location),metrics:SA(SA({},o.metrics),t.metrics),user:{userId:t.userId||o.userId||n.identityId,userAttributes:SA(SA({},o.userAttributes),t.userAttributes)}}),f=(c.userId,c.userAttributes,c.name,c.session,c.eventId,c.immediate,AA(c,["userId","userAttributes","name","session","eventId","immediate"]));return S.a.transferKeyToUpperCase(f,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){EA.error("record event failed.",e),EA.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return wA(this,void 0,void 0,(function(){var e,t;return _A(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Oi.get()];case 1:return(e=n.sent())?(EA.debug("set credentials for analytics",e),[2,Oi.shear(e)]):[2,null];case 2:return t=n.sent(),EA.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}(),OA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},UA=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(OA(arguments[t]));return e},xA=[],kA=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){DA(e,t).set(n)},e.remove=function(e,t){DA(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,UA(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function DA(e,t){var n=xA.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new kA(e,t),xA.push(n)),n}var MA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},NA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},jA=new f("PageViewTracker"),FA="aws-amplify-analytics-prevUrl",qA={enable:!1,provider:"AWSPinpoint",getUrl:function(){return S.a.browserOrNode().isBrowser?window.location.origin+window.location.pathname:""}},BA=function(){function e(e,t){jA.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},qA,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(FA)===this._config.getUrl()&&(jA.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return MA(this,void 0,void 0,(function(){var e,t,n,r;return NA(this,(function(i){switch(i.label){case 0:return S.a.browserOrNode().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(jA.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){jA.debug("Failed to record the page view event",e)})),sessionStorage.setItem(FA,e)),[2]}}))}))},e.prototype._trackFunc=function(){return MA(this,void 0,void 0,(function(){var e,t,n,r;return NA(this,(function(i){switch(i.label){case 0:return S.a.browserOrNode().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(jA.debug("not in the supported web enviroment"),[2]);case 1:return n=i.sent(),[3,3];case 2:n=this._config.attributes,i.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){jA.debug("Failed to record the page view event",e)})),sessionStorage.setItem(FA,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){S.a.browserOrNode().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(kA.add(history,"pushState",this._trackFunc),kA.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(kA.remove(history,"pushState"),kA.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):jA.debug("not in the supported web enviroment")},e}(),VA=S.a.browserOrNode().isBrowser&&window.Element?window.Element.prototype:null,zA=VA?VA.matches||VA.matchesSelector||VA.webkitMatchesSelector||VA.mozMatchesSelector||VA.msMatchesSelector||VA.oMatchesSelector:null;function GA(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||HA(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||HA(e,r))return!0}return!1}function HA(e,t){if("string"!=typeof t)return!1;if(zA)return zA.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,i=void 0;i=n[r];r++)if(i===e)return!0;return!1}function KA(e,t,n,r,i){void 0===i&&(i={});var o=function(e){var t;if(i.composed&&"function"==typeof e.composedPath)for(var o=e.composedPath(),s=0,a=void 0;a=o[s];s++)1===a.nodeType&&GA(a,n)&&(t=a);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,i=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),o=0;r=i[o];o++)if(GA(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,o,i.useCapture),{destroy:function(){e.removeEventListener(t,o,i.useCapture)}}}var WA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},JA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},YA=new f("EventTracker"),$A={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},ZA=function(){function e(e,t){S.a.browserOrNode().isBrowser&&window.addEventListener?(this._config=Object.assign({},$A,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),YA.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):YA.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=KA(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return WA(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return JA(this,(function(c){switch(c.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),i=t.getAttribute(this._config.selectorPrefix+"name"),(o=t.getAttribute(this._config.selectorPrefix+"attrs"))&&o.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return a=c.sent(),[3,3];case 2:a=this._config.attributes,c.label=3;case 3:return s=a,u=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},s,n),YA.debug("events needed to be recorded",r),YA.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(YA.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:i||"event",attributes:u},this._config.provider).catch((function(t){YA.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),XA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},QA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},eI=new f("SessionTracker"),tI={enable:!1,provider:"AWSPinpoint"},nI=!1,rI=function(){function e(e,t){this._config=Object.assign({},tI,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!S.a.browserOrNode().isBrowser)return!1;if(!document||!document.addEventListener)return eI.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return eI.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return XA(this,void 0,void 0,(function(){var e,t,n;return QA(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){eI.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){eI.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){eI.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return XA(this,void 0,void 0,(function(){var e,t,n;return QA(this,(function(r){switch(r.label){case 0:return nI?(eI.debug("the start session has been sent when the page is loaded"),[2]):(nI=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){eI.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),iI=function(){return(iI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},sI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},aI=new f("AnalyticsClass"),uI="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",cI={pageView:BA,event:ZA,session:rI},fI=null,lI=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},fI=this,this.record=this.record.bind(this),v.listen("auth",gI),v.listen("storage",gI),v.listen("analytics",gI)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;aI.debug("configure Analytics",e);var n,r,i,o=ki.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,o.Analytics,e),this._config.disabled&&(this._disabled=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(iI({disabled:t._config.disabled},n))})),0===this._pluggables.length&&this.addPluggable(new LA),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),n="configured",r=null,i="The Analytics category has been configured successfully",v.dispatch("analytics",{event:n,data:r,message:i},"Analytics",uI),aI.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=iI({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return aI.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void aI.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return oI(this,void 0,void 0,(function(){var t;return sI(this,(function(n){return t={event:{name:"_session.start"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.stopSession=function(e){return oI(this,void 0,void 0,(function(){var t;return sI(this,(function(n){return t={event:{name:"_session.stop"},provider:e},[2,this._sendEvent(t)]}))}))},e.prototype.record=function(e,t,n){return oI(this,void 0,void 0,(function(){var r;return sI(this,(function(i){return r=null,r="string"==typeof e?{event:{name:e,attributes:t,metrics:n},provider:"AWSPinpoint"}:{event:e,provider:t},[2,this._sendEvent(r)]}))}))},e.prototype.updateEndpoint=function(e,t){return oI(this,void 0,void 0,(function(){var n;return sI(this,(function(r){return n=iI(iI({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(this._disabled)return aI.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return new Promise((function(r,i){t._pluggables.forEach((function(t){t.getProviderName()===n&&t.record(e,{resolve:r,reject:i})}))}))},e.prototype.autoTrack=function(e,t){if(cI[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new cI[e](this.record,t)}else aI.debug("invalid tracker type")},e}(),hI=!1,dI=!1,pI=!1,gI=function(e){var t=e.channel,n=e.payload;switch(aI.debug("on hub capsule "+t,n),t){case"auth":yI(n);break;case"storage":vI(n);break;case"analytics":mI(n)}},vI=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&pI&&fI.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){aI.debug("Failed to send the storage event automatically",e)}))},yI=function(e){var t=e.event;if(t){var n=function(e){return oI(void 0,void 0,void 0,(function(){var t;return sI(this,(function(n){switch(n.label){case 0:if(!dI||!pI)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fI.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),aI.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":(dI=!0)&&pI&&bI()}}},mI=function(e){var t=e.event;if(t)switch(t){case"pinpointProvider_configured":pI=!0,dI&&pI&&bI()}},bI=function(){var e=fI.configure();!hI&&e.autoSessionRecord&&(fI.updateEndpoint({immediate:!0}).catch((function(e){aI.debug("Failed to update the endpoint",e)})),hI=!0),fI.autoTrack("session",{enable:e.autoSessionRecord})},SI=new lI;H.register(SI);var wI=SI,_I=new f("I18n"),AI=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),_I.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),II=new f("I18n"),CI=null,EI=null,RI=function(){function e(){}return e.configure=function(t){return II.debug("configure I18n"),t?(CI=Object.assign({},CI,t.I18n||t),e.createInstance(),CI):CI},e.getModuleName=function(){return"I18n"},e.createInstance=function(){II.debug("create I18n instance"),EI||(EI=new AI(CI))},e.setLanguage=function(t){return e.checkConfig(),EI.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?EI.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),EI.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),EI.putVocabularies(t)},e.checkConfig=function(){return EI||(EI=new AI(CI)),!0},e}();H.register(RI);B.userAgent;var TI=H;class PI{constructor(e,t,n="us-east-1"){TI.configure({Auth:{region:n,identityPoolId:t},Analytics:{AWSPinpoint:{appId:e,region:n,mandatorySignIn:!1}}}),window.Amplify=TI}}!function(){const e=document.querySelector("#aws-web-analytics"),t=e.getAttribute("data-id-pool"),n=e.getAttribute("data-pinpoint-id"),r=document.location.hash?"SPA":"multiPageApp";var i=document.referrer;new PI(n,t),us.currentCredentials().then(e=>{wI.autoTrack("pageView",{enable:!0,eventName:"pageView",attributes:()=>{let e=window.location.search.slice(1).split("&"),t={referer:i};return e.forEach(e=>{const n=e.split("=");t[n[0]]=n[1]}),t},type:r,provider:"AWSPinpoint",getUrl:()=>window.location.origin+window.location.pathname}),wI.autoTrack("event",{enable:!0,events:["click"],selectorPrefix:"data-aws-analytics-",provider:"AWSPinpoint",attributes:{attr:"attr"}})})}()}])}));